"use strict";(this.webpackChunk_hz_project_x=this.webpackChunk_hz_project_x||[]).push([[49126],{611975:(e,t,o)=>{var r=o(843758),s=o(713797),n=o(766811),i=o(342356),a=o(493339);class c extends a.w{constructor(e,t){super(e),this._activateOnDemandBrick=t}async activateOnDemandBrick(e){return this._activateOnDemandBrick(this.locator,e)}}var l,d=o(319132);class E{constructor(e,t,o,r,s){this._logger=e,this._brickRegistry=o,this._brickManager=r,this._collectionToBricksMap=new Map,this._constructedBricks=new Set,this._collectionPromises=new Map,this._brickRegistryEntryMap=new Map(Object.entries(this._brickRegistry.bricks)),this._processBrickRegistry();this._brickDependencyCollector=new n.S(t,(e=>{const t=e;return void 0!==t.dependencies?t.dependencies.map((e=>this._brickRegistryEntryMap.get(e))):[]}),s),this._brickManager.setBrickContextFactory((e=>new c(e,((e,t)=>this._activateOnDemandBrick(e,t)))))}_processBrickRegistry(){for(const e of this._brickRegistryEntryMap.values())for(const t of Object.keys(e.collections)){const o=t,r=this._collectionToBricksMap.get(o)??new Set;r.add(e),this._collectionToBricksMap.set(o,r)}}async _activateOnDemandBrick(e,t){const o=this._brickRegistryEntryMap.get(t);let r;if(void 0===o)r=new i.R("BrickActivation",`${t} is not defined in the BrickRegistry`);else{const e=Object.keys(o.collections);(e.length>1||!0!==o.collections[e[0]].isOnDemand)&&(r=new i.R("BrickActivation",`${t} is not an on-demand brick`))}if(void 0!==r)throw d.I.logClientFatalError(r,this._logger),r;return(await this._activateBricksFromRegistry(e,[o]))[0]}async activateCollection(e,t){const o=this._collectionToBricksMap.get(t)??new Set,r=[];for(const e of o)!0===e.collections[t].isEntryPoint&&r.push(e);const s=this._loadCollection(t).then((()=>this._activateBricksFromRegistry(e,r)));return d.I.wrap(s,this._logger)}async _getBrickFactory(e){const t=this._brickRegistry.bricks[e],o=new Set;for(const e of Object.keys(t.collections))o.add(e);return(await this._getOrLoadFirstAvailableCollection(o)).factories[e]}async _getOrLoadFirstAvailableCollection(e,t=!1){for(const t of e.values())if(this._collectionPromises.has(t))return this._collectionPromises.get(t);if(t){if(1!==e.size)throw new i.R("BrickActivation",`Expected one of the collections ${Array.from(e).join(", ")} to already be loaded before a child required it.`);this._logger.warn(`Expected collection "${e.values().next().value}" to already be loaded before a child required it.`)}return this._loadCollection(e.values().next().value)}async _loadCollection(e){return this._collectionPromises.has(e)||this._collectionPromises.set(e,this._loadCollectionInternal(e)),this._collectionPromises.get(e)}async _loadCollectionInternal(e){let t;if(e===this._brickRegistry.rootCollection.name)t=await this._brickRegistry.rootCollection.factory();else{const o=this._brickRegistry.childCollectionIndex[e],r=await this._getOrLoadFirstAvailableCollection(new Set(o.parents),!0);t=await r.childCollections[e]()}return t}async _activateBricksFromRegistry(e,t){const o=await this._brickDependencyCollector.collectBricksAndDependencies(t),r=[];o.forEach((e=>{const t=e.id;this._constructedBricks.has(t)||(this._constructedBricks.add(t),r.push(t))}));const s=[];return await Promise.all(r.map((async e=>{try{const t=await(await this._getBrickFactory(e))();s.push([e,t])}catch(t){throw new i.R("BrickActivation",`Failed to create brick with ID "${e}"`,t)}}))),Promise.all(s.map((([t,o])=>this._brickManager.activateBrickInstance(e,o,t))))}}!function(e){e.uiKernel="uiKernel",e.uiStartup="uiStartup",e.uiPostStartup="uiPostStartup"}(l||(l={}));var p=o(122479),_=o(566369),u=o(880346),h=o(937472),m=o(382995),g=o(674864);const T={perfMonitorMarkAllActions:new(o(288035).L0)("perf-monitor-mark-all-actions",!1)};class O{constructor(e){this._options=e,this._startDeferred=new h.B,this._logger=_.L.singleton(),(0,g.uG)(this._logger);const t=[this._logger,"ui","false"!==this._options.locatorCycleDetectionEnabled];"function"==typeof this._options.locatorFactoryForTests?this._locator=this._options.locatorFactoryForTests(...t):this._locator=new p.P(...t),this._locator.set("Logger",(async()=>this._logger)),this._locator.set("Host",(async()=>this._options.appConfigOptions.host)),this._locator.set("AppConfig",(async()=>this._appConfigFactory())),this._startDeferred.adopt(this._finishStartup())}get locator(){return this._locator}get host(){return this._options.appConfigOptions.host}async start(){return this._startDeferred.promise}async _appConfigFactory(){const e=r.y.singleton(),{host:t,compiledConfig:o,releasePlaneConfig:s,browserFlags:n,featuresFromExperiments:i,zeroCostExperimentsCallback:a,startApplicationHeartbeat:c}=this._options.appConfigOptions,{buildSha:l,branch:d}=s.settings,E={sha:l||"",branch:d||""};return await e.initialize(E,t,o,s,n,i,a,c),await Promise.all([e.attach(T),e.attach(this._options.configInterface)]),e}async _finishStartup(){const e=await this._locator.get("AppConfig");await Promise.all([this._appConfigComplete(e),this.initialized()])}async _appConfigComplete(e){const t={maxActions:50,numTrailingFramesToTrack:100,markAllActions:T.perfMonitorMarkAllActions.enabled};this._locator.set("PerfMonitorModel",(async()=>new u.Q(t))),this._locator.set("BrickManager",(async()=>{const t=await this._locator.get("PerfMonitorModel");return new s.i(e,t)})),this._locator.set("BrickRegistryManager",(async()=>{const t=await this._locator.get("BrickManager");return new E(this._logger,e,this._options.brickRegistry,t,new m.Y)}));(await this._locator.get("BrickRegistryManager")).activateCollection(this._locator,l.uiKernel)}}class f extends O{constructor(e){f._validateBrickRegistry(e.brickRegistry),super(e),this._imsDeferred=new h.B;const t=this.locator.get("ImsService");this.locator.get("AppConfig").then((o=>{o.setFactoryForAccessTokenProvider((()=>t));const r=e.configInterface,s={clientId:r.imsClientId.value,environment:r.imsEnv.value,scope:r.imsScope.value,customSignInCallback:e.customSignInCallback};this.locator.set("ImsServiceOptions",(async()=>s))})),this._imsDeferred.adopt(t.then((e=>{e.load()})))}async initialized(){return this._imsDeferred.promise}static _validateBrickRegistry(e){if(void 0===e.bricks["@hz/ims-service-client"]?.collections.uiKernel)throw new Error('"@hz/ims-service-client" must be specified in the BrickConfiguration file using the "uiKernel" collection.')}}var I=o(334198),b=o(653011),R=o(775147);const A=globalThis._hz_releasePlaneConfig||{settings:{},features:{}},N=R.$.settingValues.ingestProject;var D=o(630101),C=o(496267),S=o(465758),w=o(168998);const y={factories:{"@hz/client-storage":async()=>new S.X,"@hz/ims-service-client":async()=>new w.v},childCollections:{uiStartup:async()=>(await o.e(68009).then(o.bind(o,107923))).uiStartup}},P={bricks:{"@hz/client-storage":{id:"@hz/client-storage",dependencies:[],collections:{uiKernel:{isEntryPoint:!1}}},"@hz/ims-service-client":{id:"@hz/ims-service-client",dependencies:["@hz/client-storage"],collections:{uiKernel:{isEntryPoint:!0}}}},rootCollection:{name:"uiKernel",factory:async()=>y},childCollectionIndex:{uiStartup:{parents:["uiKernel"]},uiPostStartup:{parents:["uiStartup"]}}};let v;const L={appConfigOptions:{compiledConfig:R.$,featuresFromExperiments:(0,D.uJ)(),zeroCostExperimentsCallback:(0,D.zU)(),host:new I.r,releasePlaneConfig:(M={},{settings:{ingestProject:N,...M,...A.settings},features:{...A.features}})},brickRegistry:P,configInterface:b.q,async customSignInCallback(){const e=v.locator,[t,o,r,s]=await e.getAll(["ImsService","Router","RouterStore","AppViewsStore"]);await r.waitForInitialNavigationToComplete();const n=[C.n.appLicensing,C.n.legacyRouteName];let i=!1;if(o.currentRouteName&&(i=n.includes(o.currentRouteName)),!t.isSignedInUser()&&!i&&!s.isCustomSignInView)if(s.isEmbedEnabled){const e=s.getRedirectURL(r,C.n.embedWelcome);r.navigateExternal(e)}else b.q.useExpressIMSSusi.enabled?await t.signIn():s.showCustomSignIn()}};var M;const U=function(e=L){if(void 0!==v)throw new Error("Unexpected additional call to initializeHorizonKernel.");return v=new f(e),v}();!async function(){const[,e]=await Promise.all([U.start(),(await Promise.all([o.e(56335),o.e(67523),o.e(33055),o.e(61988),o.e(8678),o.e(54648),o.e(15957),o.e(83530),o.e(52606),o.e(48831),o.e(27637),o.e(92560),o.e(22859),o.e(11453),o.e(17451),o.e(88381),o.e(49319),o.e(4553),o.e(71105)]).then(o.bind(o,230716))).startAppShell]);e(U)}()},630101:(e,t,o)=>{o.d(t,{M9:()=>d,fk:()=>l,uJ:()=>c,xI:()=>p,zU:()=>E});var r=o(620702),s=o(948536),n=o(653011),i=o(979105),a=o(286727);const c=()=>{const{complexExperiments:e}=l();return(0,i.eL)(e)},l=()=>{if(!globalThis._hz_releasePlaneConfig||!Array.isArray(globalThis._hz_releasePlaneConfig.experiments))return{zeroCostExperiments:[],complexExperiments:[]};return{zeroCostExperiments:globalThis._hz_releasePlaneConfig.experiments.filter((e=>e.state===r.F.active&&(0,s.nZ)(e))),complexExperiments:globalThis._hz_releasePlaneConfig.experiments.filter((e=>!(0,s.nZ)(e)))}},d=()=>{const e=[],t=[];return globalThis._hz_releasePlaneConfig&&Array.isArray(globalThis._hz_releasePlaneConfig.forcedExperiments)?(globalThis._hz_releasePlaneConfig.forcedExperiments.forEach((o=>{const r=globalThis._hz_releasePlaneConfig.experiments.find((e=>e.name===o.name));r&&(0,s.nZ)(r)?e.push(o):t.push(o)})),{zeroCostForcedExperiments:e,complexForcedExperiments:t}):{zeroCostForcedExperiments:e,complexForcedExperiments:t}},E=()=>{const e=a.e.getInstance(l().zeroCostExperiments,d().zeroCostForcedExperiments);return e.calculateZeroCostExperimentsFeatureFlags.bind(e)},p=async()=>await n.q.trialUser.isEnabled()},496267:(e,t,o)=>{o.d(t,{B:()=>s,n:()=>i});var r=o(74076);const s={files:"files",folderId:"folderId",shared:"shared",recent:"recent",organizerSearch:"organizerSearch",deprecatedFiles:"deprecatedFiles",deprecatedFolderId:"deprecatedFolderId",deprecatedShared:"deprecatedShared",deprecatedRecents:"deprecatedRecents",deprecatedOrganizerSearch:"deprecatedOrganizerSearch",edu:"edu",eduFiles:"edu-files",eduShared:"edu-shared",eduRecents:"edu-recents",eduFolderId:"edu-folderid",eduPreview:"edu-preview",eduPreviewDrawing:"edu-preview-drawing",eduEmbed:"edu-embed",eduGcEmbed:"edu-gc-embed",eduWebpagePreview:"edu-webpage-preview",eduAttachError:"edu-attach-error",edex:"edex",edexFiles:"edex-files",edexPreview:"edex-preview",edexShared:"edex-shared",edexRecents:"edex-recents",edexFolderId:"edex-folderid"},n={explore:"explore",...r.s},i={id:"id",new:"new",template:"template",deprecatedHome:"home",embedPreload:"embedPreload",embedWelcome:"embedWelcome",embedAssetConversion:"embedAssetConversion",home:"/",design:"design",federatedLogin:"a",yourStuff:"your-stuff",publicBetaAccess:"publicBetaAccess",serverBusy:"serverBusy",mobileWebBlocked:"mobileWebBlocked",unsupportedBrowser:"unsupportedBrowser",contactAdmin:"contactAdmin",legacyRouteName:"sp",pageHome:"pageHome",pageDesign:"pageDesign",pageNew:"pageNew",pagePreview:"pagePreview",pagePresent:"pagePresent",pageTheme:"pageTheme",pagePublishedAlias:"pagePublishedAlias",webpagePublishedAlias:"webpagePublishedAlias",...s,templateDesignRemix:"template-design-remix",templateRemix:"template-remix",...n,projects:"projects",projectId:"projectId",projectFolderId:"projectFolderId",brands:"brands",brandid:"brandid",brandsAccept:"brandsAccept",deprecatedBrands:"deprecatedBrands",deprecatedBrandid:"deprecatedBrandid",deprecatedBrandsAccept:"deprecatedBrandsAccept",newBrands:"brands",newBrandId:"newBrandId",libraries:"libraries",libraryId:"libraryid",librariesAccept:"librariesAccept",deprecatedLibraries:"deprecatedLibraries",deprecatedLibraryId:"deprecatedLibraryId",deprecatedLibrariesAccept:"deprecatedLibrariesAccept",appLicensing:"als",schedule:"schedule",scheduleSetup:"scheduleSetup",scheduleConnect:"scheduleConnect",classrooms:"classrooms",classroomManage:"classrooms-manage",classroomManageFiles:"classrooms-manage-files",classroomManageFolderId:"classrooms-manage-folderId",classroomAssignmentPreview:"classrooms-assignment-preview",drawingNew:"drawingNew",drawingOpen:"drawingOpen",drawingTemplate:"drawingTemplate",drawingTemplateRemix:"drawingTemplateRemix",drawingRemix:"drawingRemix",drawingUnknown:"drawingUnknown",learn:"learn",learnCategoryId:"categoryId",learnTutorialId:"tutorialId",tools:"tools",homeTools:"homeTools",homeToolsModal:"homeToolsModal",educatorResources:"educator-resources",resources:"resources",menu:"menu",notFound:"not-found",notAllowed:"not-allowed",betaAccess:"beta-access",unsupported:"unsupported",browsersNotSupported:"browsers-not-supported",features:"features",appSettings:"app-settings",shortcuts:"shortcuts",search:"search",ccHome:"cchome",blocked:"blocked",betaStart:"beta-start",betaFaqs:"beta-faqs",betaSupport:"beta-support",mobileBlockedView:"mobile-access-blocked",mobileComingSoon:"mobile-coming-soon",resolve:"resolve",textToTemplate:"t2t",publish:"published",integration:"integration",imageToTemplate:"image-to-template",addOns:"add-ons",recoverExpressFolders:"restore-folders"}},399004:(e,t,o)=>{function r(e){var t=document.createElement("script");return t.type="text/javascript",t.defer="boolean"==typeof e.defer&&e.defer,t.async="boolean"!=typeof e.async||e.async,e.integrity&&(t.integrity=e.integrity),t.crossOrigin="anonymous",t.src="https://t.contentsquare.net/uxa/"+e.clientId+".js",document.head.appendChild(t)}o.d(t,{z:()=>r})},626198:(e,t)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ProblemTypes=void 0,(o=t.ProblemTypes||(t.ProblemTypes={})).ACCESS_DENIED="http://ns.adobe.com/adobecloud/problem/accessdenied",o.ASSET_LOCKED="http://ns.adobe.com/adobecloud/problem/assetlocked",o.ASSET_MOVED="http://ns.adobe.com/adobecloud/problem/assetmoved",o.ASSET_NAME_CONFLICT="http://ns.adobe.com/adobecloud/problem/assetnameconflict",o.ASSET_NAME_INVALID="http://ns.adobe.com/adobecloud/problem/assetnamenotvalid",o.ASSET_NOT_FOUND="http://ns.adobe.com/adobecloud/problem/assetnotfound",o.ASSET_STATE_NOT_ALLOWED="http://ns.adobe.com/adobecloud/problem/assetstatenotallowed",o.BAD_REQUEST="http://ns.adobe.com/adobecloud/problem/badrequest",o.BULK_REQUEST_NOT_ATTEMPTED="http://ns.adobe.com/adobecloud/problem/bulkrequestnotattempted",o.COMPOSITE_INTEGRITY="http://ns.adobe.com/adobecloud/problem/compositeintegrity",o.DCX_VALIDATION="http://ns.adobe.com/adobecloud/problem/dcxvalidation",o.DIRECTORY_NOT_EMPTY="http://ns.adobe.com/adobecloud/problem/directorynotempty",o.EMBED_INVALID="http://ns.adobe.com/adobecloud/problem/embedinvalid",o.EMBED_TOO_LARGE="http://ns.adobe.com/adobecloud/problem/embedtoolarge",o.ENCRYPTION_KEY_INACCESSIBLE="http://ns.adobe.com/adobecloud/problem/encryptionkeyinaccessible",o.INVALID_FRAGMENT="http://ns.adobe.com/adobecloud/problem/invalidfragment",o.LIMIT_CHILDREN_COUNT="http://ns.adobe.com/adobecloud/problem/limit/childrencount",o.LIMIT_COMPONENT_COUNT="http://ns.adobe.com/adobecloud/problem/limit/componentcount",o.LIMIT_EMBED_SELECTOR_COUNT="http://ns.adobe.com/adobecloud/problem/limit/embedspecifierselectorcount",o.LIMIT_MILESTONE_COUNT="http://ns.adobe.com/adobecloud/problem/limit/milestonecount",o.LIMIT_MILESTONE_LABEL_LENGTH="http://ns.adobe.com/adobecloud/problem/limit/milestonelabellength",o.LIMIT_NAME_LENGTH="http://ns.adobe.com/adobecloud/problem/limit/namelength",o.LIMIT_OPERATION_COUNT="http://ns.adobe.com/adobecloud/problem/limit/operationcount",o.LIMIT_PATH_SEGMENT_COUNT="http://ns.adobe.com/adobecloud/problem/limit/pathsegmentcount",o.LIMIT_RESOURCE_COUNT="http://ns.adobe.com/adobecloud/problem/limit/resourcecount",o.LIMIT_RESOURCE_SIZE="http://ns.adobe.com/adobecloud/problem/limit/resourcesize",o.OPERATION_FAILED="http://ns.adobe.com/adobecloud/problem/operationfailed",o.OPERATION_TARGET_CONFLICT="http://ns.adobe.com/adobecloud/problem/operation/targetconflict",o.QUOTA_EXCEEDED="http://ns.adobe.com/adobecloud/problem/quotaexceeded",o.REPOSITORY_NOT_FOUND="http://ns.adobe.com/adobecloud/problem/repositorynotfound",o.RESOURCE_BLOCKED="http://ns.adobe.com/adobecloud/problem/resourceblocked",o.RESOURCE_NOT_ALLOWED="http://ns.adobe.com/adobecloud/problem/resourcenotallowed",o.RESOURCE_NOT_FOUND="http://ns.adobe.com/adobecloud/problem/resourcenotfound",o.RESOURCE_NOT_READY="http://ns.adobe.com/adobecloud/problem/resourcenotready",o.RESPONSE_TOO_LARGE="http://ns.adobe.com/adobecloud/problem/responsetoolarge",o.USER_BLOCKED="http://ns.adobe.com/adobecloud/problem/userblocked",o.VERSION_NOT_FOUND="http://ns.adobe.com/adobecloud/problem/versionnotfound";const r={ASSET_MOVED:"ASSET_MOVED",INVALID_JSON:"INVALID_JSON",READ_ONLY:"READ_ONLY",INVALID_PARAMS:"",INVALID_LINKS:"INVALID_LINKS",PRECONDITION_FAILED:"PRECONDITION_FAILED",INVALID_DATA:"INVALID_DATA",DUPLICATE_VALUE:"DUPLICATE_VALUE",NO_BASE_BRANCH_DATA:"NO_BASE_BRANCH_DATA",INVALID_STATE:"INVALID_STATE",DELETED_COMPOSITE:"DELETED_COMPOSITE",INCOMPLETE_COMPOSITE:"INCOMPLETE_COMPOSITE",UNEXPECTED_RESPONSE:"UNEXPECTED_RESPONSE",NETWORK_ERROR:"NETWORK_ERROR",COMPONENT_DOWNLOAD_ERROR:"COMPONENT_DOWNLOAD_ERROR",COMPONENT_UPLOAD_ERROR:"COMPONENT_UPLOAD_ERROR",COMPONENT_MODIFIED_ERROR:"COMPONENT_MODIFIED_ERROR",UPDATE_CONFLICT:"UPDATE_CONFLICT",NO_COMPOSITE:"NO_COMPOSITE",ALREADY_EXISTS:"ALREADY_EXISTS",SERVICE_IS_INACTIVE:"SERVICE_IS_INACTIVE",EXCEEDS_QUOTA:"EXCEEDS_QUOTA",NOT_IMPLEMENTED:"NOT_IMPLEMENTED",RETRYABLE_SERVER_ERROR:"RETRYABLE_SERVER_ERROR",TIMED_OUT:"TIMED_OUT",UNEXPECTED:"UNEXPECTED",TERMINATED_INPUTSTREAM:"TERMINATED_INPUTSTREAM",WRONG_ENDPOINT:"WRONG_ENDPOINT",OUT_OF_SPACE:"ENOSPC",FILE_EXISTS_IN_CLOUD:"FILE_EXISTS_IN_CLOUD",ASSET_NOT_FOUND:"ASSET_NOT_FOUND",COMPOSITE_NOT_FOUND:"COMPOSITE_NOT_FOUND",NOT_FOUND:"NOT_FOUND",UNAUTHORIZED:"UNAUTHORIZED",FORBIDDEN:"FORBIDDEN",METHOD_NOT_ALLOWED:"METHOD_NOT_ALLOWED",NOT_ACCEPTABLE:"NOT_ACCEPTABLE",BANDWIDTH_LIMIT_EXCEEDED:"BANDWIDTH_LIMIT_EXCEEDED",ABORTED:"ABORTED",TOO_MANY_REDIRECTS:"TOO_MANY_REDIRECTS",INSECURE_REDIRECT:"INSECURE_REDIRECT"},s={[r.SERVICE_IS_INACTIVE]:!0,[r.ABORTED]:!0,[r.INSECURE_REDIRECT]:!0,[r.TOO_MANY_REDIRECTS]:!0,[r.NOT_IMPLEMENTED]:!0,[r.EXCEEDS_QUOTA]:!0,[r.RETRYABLE_SERVER_ERROR]:!0,[r.TIMED_OUT]:!0,[r.TERMINATED_INPUTSTREAM]:!0,[r.WRONG_ENDPOINT]:!0,[r.OUT_OF_SPACE]:!0,[r.INVALID_PARAMS]:!0,[r.INVALID_STATE]:!0};class n extends Error{constructor(e,t,o,r,s){var a;if(super(),this.code=e,this.name="AdobeDCXError",this._additionalData={},"application/problem+json"===(null===(a=null==r?void 0:r.headers)||void 0===a?void 0:a["content-type"])&&r.response&&"object"==typeof r.response&&"function"==typeof r.response.slice)try{const e=JSON.parse(new TextDecoder("utf-8").decode(r.response));r.response=e}catch(e){const t=r.response;r.response={originalBody:t,message:"Failed to parse JSON problem type response body.",parseError:e}}if(o instanceof Error&&(this._underlyingError=o),this._response=r||(i(o)?o.response:void 0),this._additionalData=s,this._message=t,this.message=("string"==typeof e&&""!==e?"["+e+"] ":"")+(this._message||""),Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace)Error.captureStackTrace(this,n);else try{const e=new Error;if(e.name=this.name,e.stack){const t=e.stack.split("\n");t.length>0&&t.splice(1,1),this.stack=t.join("\n")}}catch(e){}}get response(){return this._response}get problemType(){var e;if("application/problem+json"===(null===(e=this._response)||void 0===e?void 0:e.headers["content-type"]))return this._response.response.type}get underlyingError(){return this._underlyingError}get additionalData(){return this._additionalData}set additionalData(e){this._additionalData=e}get failedComponents(){return this._additionalData.failedComponents}static wrapError(e,o,i,a){var c,l,d,E;if(i&&s[i.code])return i;if(a&&"object"==typeof a){const s=a.statusCode,p=403===s&&("403.1"===(null===(d=null===(l=null===(c=a.response)||void 0===c?void 0:c.message)||void 0===l?void 0:l.match(/code=(\d+.\d+)/))||void 0===d?void 0:d[1])||(null===(E=a.response)||void 0===E?void 0:E.type)===t.ProblemTypes.QUOTA_EXCEEDED);if(s>=500&&s<600||p)501===s?(e=r.NOT_IMPLEMENTED,o="Unimplemented request"):507===s||p?(e=r.EXCEEDS_QUOTA,o="Quota exceeded"):(e=r.RETRYABLE_SERVER_ERROR,o="Server error");else if(i instanceof n&&e===i.code&&i.code===this.UNEXPECTED_RESPONSE)return i}return new n(e,o,i,a)}toString(){return`${this.name}: ${this.message}`}static networkError(e,t,o){return n.wrapError(r.NETWORK_ERROR,e,t,o)}static unexpectedResponse(e,t,o){return n.wrapError(r.UNEXPECTED_RESPONSE,e,t,o)}}function i(e){return!(!e||"object"!=typeof e)&&"AdobeDCXError"===e.name}n.ABORTED=r.ABORTED,n.INSECURE_REDIRECT=r.INSECURE_REDIRECT,n.TOO_MANY_REDIRECTS=r.TOO_MANY_REDIRECTS,n.INVALID_JSON=r.INVALID_JSON,n.READ_ONLY=r.READ_ONLY,n.INVALID_PARAMS=r.INVALID_PARAMS,n.INVALID_DATA=r.INVALID_DATA,n.DUPLICATE_VALUE=r.DUPLICATE_VALUE,n.NO_BASE_BRANCH_DATA=r.NO_BASE_BRANCH_DATA,n.INVALID_STATE=r.INVALID_STATE,n.DELETED_COMPOSITE=r.DELETED_COMPOSITE,n.INCOMPLETE_COMPOSITE=r.INCOMPLETE_COMPOSITE,n.UNEXPECTED_RESPONSE=r.UNEXPECTED_RESPONSE,n.NETWORK_ERROR=r.NETWORK_ERROR,n.COMPONENT_DOWNLOAD_ERROR=r.COMPONENT_DOWNLOAD_ERROR,n.COMPONENT_UPLOAD_ERROR=r.COMPONENT_UPLOAD_ERROR,n.COMPONENT_MODIFIED_ERROR=r.COMPONENT_MODIFIED_ERROR,n.UPDATE_CONFLICT=r.UPDATE_CONFLICT,n.NO_COMPOSITE=r.NO_COMPOSITE,n.ALREADY_EXISTS=r.ALREADY_EXISTS,n.SERVICE_IS_INACTIVE=r.SERVICE_IS_INACTIVE,n.EXCEEDS_QUOTA=r.EXCEEDS_QUOTA,n.NOT_IMPLEMENTED=r.NOT_IMPLEMENTED,n.RETRYABLE_SERVER_ERROR=r.RETRYABLE_SERVER_ERROR,n.TIMED_OUT=r.TIMED_OUT,n.UNEXPECTED=r.UNEXPECTED,n.TERMINATED_INPUTSTREAM=r.TERMINATED_INPUTSTREAM,n.WRONG_ENDPOINT=r.WRONG_ENDPOINT,n.OUT_OF_SPACE=r.OUT_OF_SPACE,n.FILE_EXISTS_IN_CLOUD=r.FILE_EXISTS_IN_CLOUD,n.ASSET_NOT_FOUND=r.ASSET_NOT_FOUND,n.COMPOSITE_NOT_FOUND=r.COMPOSITE_NOT_FOUND,n.NOT_FOUND=r.NOT_FOUND,n.UNAUTHORIZED=r.UNAUTHORIZED,n.FORBIDDEN=r.FORBIDDEN,n.PRECONDITION_FAILED=r.PRECONDITION_FAILED;const a=new Map([[400,{code:r.UNEXPECTED_RESPONSE,message:"Bad request"}],[401,{code:r.UNAUTHORIZED,message:"Unauthorized"}],[403,{code:r.FORBIDDEN,message:"Forbidden"}],[404,{code:r.NOT_FOUND,message:"Not found"}],[405,{code:r.METHOD_NOT_ALLOWED,message:"The user is authorized to act on this resource, but cannot use the specified method."}],[406,{code:r.NOT_ACCEPTABLE,message:"Unable to obtain resource in a content type matching the Accept header or rendition type parameter."}],[409,{code:r.ALREADY_EXISTS,message:"Already exists"}],[412,{code:r.PRECONDITION_FAILED,message:"Precondition failed"}],[501,{code:r.NOT_IMPLEMENTED,message:"Not implemented"}],[507,{code:r.EXCEEDS_QUOTA,message:"Exceeds quota"}],[509,{code:r.BANDWIDTH_LIMIT_EXCEEDED,message:"Bandwidth limit exceeded"}]]),c=new Map(Object.entries({[t.ProblemTypes.ASSET_MOVED]:{code:r.ASSET_MOVED,message:"Asset moved to a different region while operation was in progress"},[t.ProblemTypes.COMPOSITE_INTEGRITY]:{code:r.INCOMPLETE_COMPOSITE,message:"Incomplete composite. invoke missingComponentsFromError with this error for more information."}})),l=e=>{var t,o;const r=c.get(null!==(o=null===(t=e.response)||void 0===t?void 0:t.type)&&void 0!==o?o:"")||a.get(e.statusCode);return r?new n(r.code,r.message,void 0,e,e.response):void 0},d=(e,t)=>e&&t?e<300&&e>199||l(t)||!1:new n(r.NETWORK_ERROR,"Invalid or missing status code or response",void 0,t);t.AdobeDCXError=n,t.DCXError=n,t.ErrorCodes=r,t.HTTP_STATUS_ERROR_MAP=a,t._defaultStatusValidator=d,t._handleErrorResponsePayload=function(e){const t=Array.isArray(e.response)?e.response.reduce(((e,t)=>e||t.error),void 0):e.response.error;if(!t)return e;const o=d(t.status,e);if(o instanceof n)throw o;throw new n(t.type||n.UNEXPECTED_RESPONSE,t.title||"Unexpected Error",t,e)},t._responseToError=l,t.default=n,t.isAdobeDCXError=i,t.networkError=function(e,t,o){return n.networkError(e,t,o)},t.unexpectedResponse=function(e,t,o){return n.unexpectedResponse(e,t,o)}},286727:(e,t,o)=>{o.d(t,{e:()=>n,s:()=>r});var r,s=o(51057);!function(e){e.deterministic="deterministic",e.forced="forced"}(r||(r={}));class n{constructor(e=[],t=[]){this._zeroCostExperimentsAsignments=new Map,this._zeroCostExperiments=e,this._forcedExperiments=t}static getInstance(e=[],t=[]){return this._instance||(this._instance=new n(e,t)),this._instance}getZeroCostExperimentsAsignments(){return this._zeroCostExperimentsAsignments}calculateZeroCostExperimentsFeatureFlags(){const e={};return this._zeroCostExperiments.forEach((t=>{const o=this._forcedExperiments.find((e=>e.name===t.name));o?this.processForcedExperiment(t,o,e):this.processDeterministicExperiment(t,e)})),e}processForcedExperiment(e,t,o){const s=e.variants.find((e=>e.name===t.variantName));s&&s.featureOverrides&&this.applyFeatureOverrides(s.featureOverrides,o),this._zeroCostExperimentsAsignments.set(e,{assignedVariant:t.variantName,typeOfAssignment:r.forced})}processDeterministicExperiment(e,t){const o=s.Cl.getAnonymousId(),n=s.Cl.getNewVariantForAssignment(e,o);n&&n.featureOverrides&&(this.applyFeatureOverrides(n.featureOverrides,t),this._zeroCostExperimentsAsignments.set(e,{assignedVariant:n.name,typeOfAssignment:r.deterministic}))}applyFeatureOverrides(e,t){Object.entries(e).forEach((([e,o])=>{t[e]=o}))}}},979105:(e,t,o)=>{o.d(t,{eL:()=>s});var r=o(51057);const{getExperimentFeatures:s}=r.Cl},51057:(e,t,o)=>{o.d(t,{Cl:()=>l});var r=o(595119),s=o(132565);const n="hz-anonymous-id";function i(e,t){let o=0;if(!e||0===e.length)throw new Error("Provide a key to calculate assignment to the experiment");const r=e+t;for(let e=0;e<r.length;e++)o=(o<<5)-o,o+=r.charCodeAt(e),o&=o;return Math.abs(o)%1e4/1e4*100}function a(e,t){const{trafficAllocation:o}=e;return!o||o>=t}function c(e,t){const{variants:o}=e,r=e.trafficAllocation||100,s=o.length;let n=0,i=0;const a=parseFloat((100/s).toFixed(2));for(let e=0;e<s;e++){const c=o[e];let l=a;l=l/100*r,n=i;if(i=e===s-1?r:n+l,t>n&&t<=i)return c}}const l={convertKeyToPercent:i,canUserBePartOfExperimentTraffic:a,getVariantFromUserPlacementBucket:c,isVariantNameValid:function(e,t){const{variants:o}=e;return Boolean(o.find((e=>e.name===t)))},getNewVariantForAssignment:function(e,t){let o;const s=i(t,e.id),n=a(e,s);return n&&(o=c(e,s)),r.Yd.debug("[Experiment client] Getting a new variant for assignment based on user placement",{experimentName:e.name,variantName:o?.name,key:t,salt:e.id,userPlacement:s,trafficAllocation:e.trafficAllocation,isUserEligibleForExperiment:n}),o},getExperimentFeatures:e=>{if(!Array.isArray(e))return{};const t={};for(const o of e)for(const e of o.variants)Object.assign(t,e.featureOverrides);for(const e in t)t[e]=!1;return t},getAnonymousId:function(){let e="noLS";return globalThis.localStorage&&(e=globalThis.localStorage.getItem(n),e||(e=(0,s.Z)(),globalThis.localStorage.setItem(n,e))),e},createSegmentationFilterTimeout:function(e,t,o=1e3){return setTimeout((()=>{t(new Error(`[SegmentationFilterTimeout] timeout waiting analytics context property for: ${e} to resolve.`))}),o)},createContextualSegmentationFilterTimeout:function(e,t="not-available",o=1e3){return setTimeout((()=>{e(t)}),o)}}},334198:(e,t,o)=>{o.d(t,{r:()=>n});var r=o(668348),s=o(595119);class n{constructor(e={rss:0,heapTotal:0,heapUsed:0,external:0,arrayBuffers:0}){this._memoryUsage=e}fetch(e,t){return t?.agent&&s.Yd.error("FetchInitParams.agent shouldn't be passed in BrowserHost.fetch(), agent should only be used in NodeHost.fetch()."),self.fetch(e,t)}abortController(){return new AbortController}sessionStorage(){try{return self.sessionStorage}catch(e){return}}deviceAgent(){return this._navigator().userAgent}deviceLanguage(){const e=this._navigator();return e.languages?.length?e.languages[0]:e.language}connection(){return this._navigator().connection}_navigator(){return self.navigator}executionEnvironment(){return r.st.Browser}performance(){return self.performance}memoryUsage(){return this._memoryUsage}searchParams(){return new URLSearchParams(self.location.search)}stripParamsAndReload(e){const t=this.searchParams();let o=!1;e.forEach((e=>{t.has(e)&&(t.delete(e),o=!0)})),o&&(self.location.search=t.toString())}}},955441:(e,t,o)=>{o.d(t,{M6:()=>a,PR:()=>n,eW:()=>i,te:()=>s});var r=o(668348);function s(){return"undefined"!=typeof window&&Boolean(window.webkit?.messageHandlers?.hzMobile?.postMessage)}function n(){return"undefined"!=typeof window&&Boolean(window.hzMobile?.postMessage)}function i(e){if(e===r.st.Browser)return s()||n()}function a(e){if(e)return Boolean(e.getItem("msftPWA"));console.info("sessionStorage is required to check isMsftPWAShell")}},841835:(e,t,o)=>{o.d(t,{T:()=>n,v:()=>s});var r=o(399004);function s(e){(0,r.z)({clientId:e})}function n(){if("undefined"!=typeof window)return window.CS_CONF?.integrations_handler?.getReplayLink()}},168998:(e,t,o)=>{o.d(t,{v:()=>c});var r=o(658240),s=o(632353),n=o(288035);const i={loggedOffUserSupport:new n.L0("logged-out-user-support",!1),customSignInEnabled:new n.L0("use-custom-sign-in",!1)};var a=o(465758);class c{constructor(){this.id=c.id,this.dependencies=["@hz/client-storage"]}async onActivate({locator:e}){const t=await e.get("AppConfig");await t.attach(i);const o=i.loggedOffUserSupport.enabled,n=i.customSignInEnabled.enabled,a=await e.get("SessionStorageService");e.set("SessionPersistenceService",(async()=>new s.Uz(a))),e.set("ImsService",(async()=>{const[t,s,i,c]=await e.getAll(["Logger","SessionPersistenceService","PerfMonitorModel","ImsServiceOptions"]);return new r.E$(t,s,a,i,c,{allowLoggedOutUser:o,customSignInEnabled:n})}))}}c.id="@hz/ims-service-client",c.dependencies=[a.X]},122479:(e,t,o)=>{o.d(t,{P:()=>a});var r=o(937472);class s{constructor(e){this.discarded=!1,this._singletonPromises=new Map,this._whenDefinedHooks=new Map,this._factoryDeferreds=new Map,this.logger=e.logger,this.name=e.name,this.cycleDetectionEnabled=e.cycleDetectionEnabled}get singletonPromises(){if(this.discarded)throw new Error("Locator was discarded and can no longer be used.");return this._singletonPromises}get whenDefinedHooks(){if(this.discarded)throw new Error("Locator was discarded and can no longer be used.");return this._whenDefinedHooks}get factoryDeferreds(){if(this.discarded)throw new Error("Locator was discarded and can no longer be used.");return this._factoryDeferreds}discard(){this._singletonPromises.clear(),this._whenDefinedHooks.clear(),this._factoryDeferreds.clear(),this.discarded=!0}}const n=class{constructor(e,t=[]){this._storage=e,this._ancestorSingletons=t}_log(e){this._storage.logger.traceflow(`locator-verbose-${this._storage.name}`,`${e} with ancestor singletons: ${this._ancestorSingletons.join("->")}`)}discard(){this._storage.discard()}get discarded(){return this._storage.discarded}get name(){return this._storage.name}get logger(){return this._storage.logger}set cycleDetectionEnabled(e){this._storage.cycleDetectionEnabled=e}get cycleDetectionEnabled(){return this._storage.cycleDetectionEnabled}set(e,t){if(this._storage.singletonPromises.has(e)&&!this._storage.factoryDeferreds.has(e))throw new Error(`Locator.set(): attempting to set new factory for singleton ${e} that already has one`);const o=this._getOrMakeFactoryDeferred(e);if(o.isSettled)throw new Error(`Locator.set(): attempting to set new factory for singleton ${e} that already has one`);o.resolve(t),this._log(`Locator.set(): factory for ${e}`);const r=this._storage.whenDefinedHooks.get(e);r&&(this._log(`Locator.set(): running ${r.size} whenDefined hooks for ${e}`),r.forEach((e=>e()))),this._storage.whenDefinedHooks.delete(e)}_getOrMakeFactoryDeferred(e){let t=this._storage.factoryDeferreds.get(e);return t||(t=new r.B,this._storage.factoryDeferreds.set(e,t)),t}getResolver(e){return()=>new n(this._storage,[]).get(e)}whenDefined(e,t){if(this._storage.singletonPromises.has(e)&&!this._storage.factoryDeferreds.has(e))return void t();if(this._getOrMakeFactoryDeferred(e).isSettled)return void t();let o=this._storage.whenDefinedHooks.get(e);return o||(o=new Set,this._storage.whenDefinedHooks.set(e,o)),o.add(t),()=>this._storage.whenDefinedHooks.get(e)?.delete(t)}async get(e){this._log(`Locator.get(): singleton ${e}`);const{cycleDetectionEnabled:t,singletonPromises:o,logger:s}=this._storage;t&&this._ancestorSingletons.includes(e)&&s.error(`Locator: cyclic dependency encountered: ${this._ancestorSingletons.join("->")}->${e}`);let i=o.get(e);if(i)return i;const c=new r.B;i=c.promise,o.set(e,i);const l=this._getOrMakeFactoryDeferred(e);let d=!1;const E=setTimeout((()=>{d=!0,s.warn(`Locator: factory for ${e} not provided through Locator.set() within ${a.FACTORY_WARNING_TIMEOUT} ms`)}),a.FACTORY_WARNING_TIMEOUT),p=setTimeout((()=>{s.error(`Locator: factory for ${e} not provided through Locator.set() within ${a.FACTORY_ERROR_TIMEOUT} ms`)}),a.FACTORY_ERROR_TIMEOUT),_=await l.promise;this._storage.factoryDeferreds.delete(e),clearTimeout(E),clearTimeout(p),d&&s.info(`Locator: factory for ${e} has eventually fulfilled.`);const u=setTimeout((()=>{s.error(`Locator: factory for ${e} failed to finish running within ${a.FACTORY_TIMEOUT} ms`)}),a.FACTORY_TIMEOUT);if(t){const t=new n(this._storage,[...this._ancestorSingletons,e]);c.adopt(_(t))}else c.adopt(_(this));return await i,clearTimeout(u),d&&s.info(`Locator: factory for ${e} has eventually fulfilled.`),i}async getAll(e){return Promise.all(e.map((e=>this.get(e))))}};let i=n;i.FACTORY_TIMEOUT=5e3,i.FACTORY_WARNING_TIMEOUT=1e4,i.FACTORY_ERROR_TIMEOUT=2e4;class a extends i{constructor(e,t="",o=!0){super(new s({logger:e,name:t,cycleDetectionEnabled:o}))}}},620702:(e,t,o)=>{var r;o.d(t,{F:()=>r}),function(e){e.new="NEW",e.active="ACTIVE",e.paused="PAUSED",e.stopped="STOPPED",e.archived="ARCHIVED",e.rolledOut="ROLLED_OUT"}(r||(r={}));r.new,r.active,r.active,r.paused,r.stopped,r.rolledOut,r.paused,r.active,r.stopped,r.rolledOut,r.stopped,r.archived,r.rolledOut,r.archived,r.rolledOut,r.rolledOut},948536:(e,t,o)=>{var r;function s(e){const t=!e.authRequired,o=0===Object.keys(e.segmentation.rules).length,r=void 0===e.surface||0===e.surface.length;return t&&o&&r}o.d(t,{nZ:()=>s}),function(e){e.abTest="A/B test",e.multiVariantTest="Multi-Variant test"}(r||(r={}))}},e=>{e.O(0,[56335,61988,54648,79072,19121,45894,30822,84650],(()=>{return t=611975,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=hz-startup-ui-index.f352723f61df6011ca88.js.map