"use strict";(this.webpackChunk_hz_project_x=this.webpackChunk_hz_project_x||[]).push([[19121],{172245:(e,t,s)=>{s.d(t,{q:()=>r});var i=s(114244);const r={floodgateApiKey:new i.pE("floodgateApiKey",""),floodgateClientId:new i.pE("floodgateClientId","horizon-platform"),floodgateFeaturesUrl:new i.NE("floodgateFeaturesUrl"),rrEntryName:new i.pE("rrEntryName",""),rrEntryConfigName:new i.pE("rrEntryConfigName",""),rrTrafficTargetName:new i.pE("rrTrafficTargetName",""),rrBuildSha:new i.pE("rrBuildSha",""),rrConfigSyncInterval:new i.pE("rrConfigSyncInterval",10)}},90563:(e,t,s)=>{s.d(t,{q:()=>w});var i=s(114244),r=s(288035);const o=new i.NK("env"),n=new i.NK("envName"),a=new i.NK("ingestApiKey"),c=new i.pE("aaTrackingServer","stats.adobe.com"),l=new i.pE("aaSecureTrackingServer","sstats.adobe.com"),d=new i.pE("bundleHash",""),h=new i.pE("ingestAppCategory","WEB"),_=new i.NK("appVersion"),g=new i.NK("appSAPCode"),u=new i.NK("ingestProject"),f=new i.NE("ingestHost"),E=new i.NE("ingestHostAlwaysProd"),p=new r.L0("ingest-host-always-prod-enabled",!1),m=new i.pE("ingestProcessingInterval",3e3),C=new i.pE("analyticsBufferLimit",500),v=new r.L0("use-experience-edge",!1),w={env:o,envName:n,enableAnalytics:new r.L0("enableAnalytics",!0),ingestAPIKey:a,ingestAppCategory:h,appVersion:_,appSAPCode:g,ingestProject:u,ingestHost:f,ingestHostAlwaysProd:E,ingestHostAlwaysProdEnabled:p,aaTrackingServer:c,aaSecureTrackingServer:l,bundleHash:d,ingestProcessingInterval:m,analyticsBufferLimit:C,aepConfigId:new i.NE("experience-edge-config-id","0868df6f-7d83-4bcd-a0f4-5656d4f0145a",{prod:"265427cd-70f8-4937-960a-5e42cc316895"}),aepOrgId:new i.pE("experience-edge-org-id","default"),useExperienceEdge:v,includeIngestBuildPrefix:new r.L0("include-ingest-build-prefix",!0),otDomainId:new i.NE("otDomainId"),privacyURL:new i.NE("privacyUrl"),footerLinkSelector:new i.pE("footerLinkSelector","")}},976059:(e,t,s)=>{var i;s.d(t,{b:()=>i}),function(e){e.local="local",e.dev="dev",e.stage="stage",e.prod="prod"}(i||(i={}))},357302:(e,t,s)=>{var i;s.d(t,{C:()=>i}),function(e){e.latest="latest",e.updateAvailable="update-available",e.updateNotify="update-notify",e.avoid="avoid",e.forceUpdate="force-update",e.forceImmediateUpdate="force-immediate-update",e.unknown="unknown"}(i||(i={}))},474429:(e,t,s)=>{s.d(t,{VP:()=>i,w$:()=>o,wC:()=>r});const i="feature-enable",r="feature-disable",o="feature-reset"},583071:(e,t,s)=>{s.d(t,{w:()=>o});var i=s(132565),r=s(216646);class o{constructor(){this.featureOverrides={},this.settingOverrides={},this.experimentFeatureOverrides={},this.sessionId=(0,i.Z)(),this._initialized=!1,this.initPromiseSettingOverrides=new Promise((e=>{this.initResolveSettingOverrides=e})),this.initPromiseFeatureOverrides=new Promise((e=>{this.initResolveFeatureOverrides=e})),this.initPromiseExperimentFeatureOverrides=new Promise((e=>{this.initResolveExperimentFeatureOverrides=e}))}setStaticSettings(e){for(const t of Object.keys(e))this.settingOverrides[t]=e[t];this.initResolveSettingOverrides(this.settingOverrides)}setStaticFeatureFlags(e){for(const t of Object.keys(e))this.featureOverrides[t]=e[t];this.initResolveFeatureOverrides(this.featureOverrides)}initializeWithDataTransfer(e,t){this.sessionId=t.sessionId,t.ENABLED_DRAFT_FEATURE_FLAGS&&t.ENABLED_DRAFT_FEATURE_FLAGS.forEach((e=>{r.Vd.has(e)||r.Vd.add(e)})),this.initialize(t.buildInfo,e,t.compiledConfig,t.releasePlaneConfig,t.browserFlags,void 0,void 0,!1)}}},843758:(e,t,s)=>{s.d(t,{y:()=>g});var i=s(976059),r=s(216646),o=s(357302),n=s(119512),a=s(781469),c=s(172245),l=s(545030),d=s(5478),h=s(583071),_=s(718017);class g extends h.w{constructor(){super(),this._featuresFromExperiments={},this._requiredSettingsResolvers=new Map,this._pendingExperimentsFeatureFlags={},this._updateListeners={},this._waitForExperimentResolution=!0,this._localConfig={features:{},settings:{}},this._browserLocalConfig=void 0,this._atpFactoryPromise=new Promise((e=>{this._atpFactoryResolver=e}))}static singleton(){return g._singleton||(g._singleton=new g),g._singleton}static async createInitializeAttach(e,t,s,i,r,o,n,a){const c=new g;return await c.initialize(e,t,s,i,r,n,a),o&&c.attach(o),c}createModuleConfig(){return new d.M(this)}registerListener(e,t){void 0===this._updateListeners[e]?this._updateListeners[e]=[t]:this._updateListeners[e]=[...this._updateListeners[e],t]}isInExperiment(e){return"boolean"==typeof this._featuresFromExperiments[e]}isPendingExperimentResolution(e){return void 0!==this._pendingExperimentsFeatureFlags[e]}async getFeaturesFromExperiments(){return await this.initialized(),this._featuresFromExperiments}async getFeaturesOverrides(){await this.initialized(),await this._experimentsInitialized();const e={},t=a.Y.getInstance(this);for(const s in this._compiledAppConfig.floodgateFeatureNames)e[s]=await t.getFeatureState(s);return{...this.featureOverrides,...this.experimentFeatureOverrides,...e}}_getEnvValue(e){if(void 0!==e){if(!this._initializedEnv){const e="Checking environmental config can only be done after appConfig.initialized()";throw console.error(e),new Error(e)}return void 0!==e.envOverrides[this._initializedEnv]?e.envOverrides[this._initializedEnv]:e.default}}_getSettingValue(e){let t;if(!this._initialized)throw t="Checking setting config can only be done after appConfig.initialize(..)",console.error(t),new Error(t);const s=this._localConfig.settings[e];if(void 0!==s)return s;if(void 0!==this.settingOverrides[e])return this.settingOverrides[e];const i=this._getEnvValue(this._compiledAppConfig.envSettings[e]);if(void 0!==i)return i;const r=this._compiledAppConfig.settingValues[e];if(void 0!==r)return r;throw t=`Static config not found: ${e}`,console.error(t),new Error("Static config not found: "+e)}_setSettingValue(e,t){if(console.log(`[AppConfig] Setting value for ${e} to ${t}`),this.settingOverrides[e]=t,this._requiredSettingsResolvers.has(e)){this._requiredSettingsResolvers.get(e)(t),this._requiredSettingsResolvers.delete(e),this._lazySettings?.delete(e)}}_getBrowserFlag(e){return this._localConfig.features[e]}async getLocalConfig(){return await this.initialized(),this._localConfig}setLocalConfig(e){this._localConfig=e}getFeatureOverrideValue(e){return"boolean"==typeof this.featureOverrides[e]?this.featureOverrides[e]:void 0}_getFeatureEnabled(e,t){if(!this._initialized){const e="Checking feature config can only be done after appConfig.initialize(..)";throw console.error(e),new Error(e)}if("boolean"==typeof this._localConfig.features[e])return this._localConfig.features[e];const s=t();return"boolean"==typeof s?s:"boolean"==typeof this.experimentFeatureOverrides[e]?this.experimentFeatureOverrides[e]:"boolean"==typeof this.featureOverrides[e]?this.featureOverrides[e]:Boolean(this._compiledAppConfig.featureValues[e])}async initialize(e,t,s,i,r,o,n,a=!0){this._initialized?console.warn("AppConfig is already initialized, not doing anything"):(this.attach(c.q),this.buildInfo=e,this._host=t,void 0!==r?this._localConfig.features=r:this._host.sessionStorage()&&(this._browserLocalConfig=this._createBrowserLocalConfig(this._host.searchParams()??new URLSearchParams),this._localConfig=this._browserLocalConfig.localConfig),this._compiledAppConfig=s,this._featuresFromExperiments=o||{},void 0!==i.features["appconfig-wait-for-experiments"]&&(this._waitForExperimentResolution=i.features["appconfig-wait-for-experiments"]),0===Object.keys(this._featuresFromExperiments).length&&(this._waitForExperimentResolution=!1),this._configureExperimentsFeatureFlags(i,n),s.lazySettings.length>0&&(this._lazySettings=new Map,s.lazySettings.forEach((e=>{this._lazySettings.set(e,e)}))),this._setStaticSettingOverrides(i.settings),await this.initialized(),a&&this._scheduleDynamicConfigSync())}isLazySetting(e){return void 0!==this._lazySettings?.get(e)}_createBrowserLocalConfig(e){return new _.Pb(e)}_isExperimentationEnabled(e){return this._localConfig.features["enable-experimentation"]||e.features["enable-experimentation"]}_configureExperimentsFeatureFlags(e,t){if(this._isExperimentationEnabled(e)&&t){this._pendingExperimentsFeatureFlags={...this._featuresFromExperiments};const s=t();this._setStaticFeatureOverrides({...e.features,...s})}else this._setStaticFeatureOverrides(e.features)}_scheduleDynamicConfigSync(){l.J.isConfigured()&&(this._rrsDynamicConfig=new l.J(this._host,this.sessionId),this._rrsDynamicConfig.initAndScheduleSyncIfNeeded())}async initialized(){await Promise.all([this.initPromiseFeatureOverrides,this.initPromiseSettingOverrides]),this._initialized=!0}updateFeaturesFromExperiments(e){for(const t of Object.keys(e))void 0!==this._featuresFromExperiments[t]&&(this.experimentFeatureOverrides[t]=e[t],this._updateListeners[t]&&this._updateListeners[t].forEach((e=>e(t))),delete this._pendingExperimentsFeatureFlags[t]);0===Object.keys(this._pendingExperimentsFeatureFlags).length&&this.initResolveExperimentFeatureOverrides(this.experimentFeatureOverrides)}resolvePendingExperimentFeatureFlags(){for(const e in this._pendingExperimentsFeatureFlags)this._resolvePendingFeatureFlag(e);this.initResolveExperimentFeatureOverrides({})}_resolvePendingFeatureFlag(e){void 0!==this._pendingExperimentsFeatureFlags[e]&&(delete this.experimentFeatureOverrides[e],delete this.featureOverrides[e],this._updateListeners[e]&&this._updateListeners[e].forEach((t=>t(e))),delete this._pendingExperimentsFeatureFlags[e])}_experimentsInitialized(){return this.initPromiseExperimentFeatureOverrides}async getHost(){return this.initPromiseSettingOverrides.then((()=>this._host))}async getEnabledFeaturesFromFloodgate(e){return void 0===this._floodgateConnector&&(this._floodgateConnector=new n.L(this)),this._floodgateConnector.getEnabledFeatures(e)}async syncWithFloodgate(){return await this.initialized(),a.Y.getInstance(this).syncNow()}setFactoryForAccessTokenProvider(e){this._atpFactoryResolver(e)}async getAccessTokenProvider(){return(await this._atpFactoryPromise)()}async attach(e){for(const t of Object.keys(e))e[t].attach(this);return this.initialized()}maybeRegisterSettingResolver(e,t){return void 0!==this._lazySettings?.get(e)&&(this._requiredSettingsResolvers.set(e,t),!0)}get _environment(){if(!this._initializedEnv){const e="appConfig._environment can only be checked synchronously after awaiting appConfig.initialize()";throw console.error(e),new Error(e)}return this._initializedEnv}_setStaticSettingOverrides(e){let t,s;if("string"!=typeof e.env)throw s="Invalid AppConfig settings override does not include required 'env'.",console.error(s),new Error(s);if(t=e.env,!Object.keys(i.b).includes(t))throw s=`Invalid AppConfig settings override.  Unsupported 'env' value provided = ${t}`,console.error(s),new Error(s);if(this._initializedEnv=t,"string"!=typeof e.envName)throw s="Invalid AppConfig settings override does not include required 'envName'.",console.error(s),new Error(s);super.setStaticSettings(e)}async getSettings(){await this.initialized();const e={};for(const t of Object.keys(this._compiledAppConfig.settingValues))e[t]=this._compiledAppConfig.settingValues[t];for(const t of Object.keys(this._compiledAppConfig.envSettings)){const s=this._getEnvValue(this._compiledAppConfig.envSettings[t]);void 0!==s&&(e[t]=s)}for(const t of Object.keys(this.settingOverrides))e[t]=this.settingOverrides[t];for(const t of Object.keys(this._localConfig.settings))e[t]=this._localConfig.settings[t];return e}async hasDraftFeature(e){await this.initialized();return this._localConfig.features[e]??r.Vd.has(e)}async getFeatures(e=!0){await this.initialized();const t={};for(const e of Object.keys(this._compiledAppConfig.featureValues))t[e]=this._compiledAppConfig.featureValues[e];for(const e of Object.keys(this.featureOverrides))t[e]=this.featureOverrides[e];for(const e of Object.keys(this._localConfig.features))t[e]=this._localConfig.features[e];if(!1===e)return t;for(const e of this._compiledAppConfig.draftDocModelFeatureNames){t[e]&&!this._localConfig.features[e]&&(t[e]=!1);const s=e;void 0!==s&&r.Vd.has(s)&&(t[e]=!0)}return t}async getWorkerDataTransfer(){await this.initialized(),this._waitForExperimentResolution&&await this._experimentsInitialized();return{sessionId:this.sessionId,buildInfo:JSON.parse(JSON.stringify(this.buildInfo)),compiledConfig:this._compiledAppConfig,releasePlaneConfig:{settings:this.settingOverrides,features:this.featureOverrides},browserFlags:this._localConfig.features,ENABLED_DRAFT_FEATURE_FLAGS:r.Vd}}_setStaticFeatureOverrides(e){super.setStaticFeatureFlags(e)}async hasFeature(e){const t=await this.getFeatures();return Boolean(t[e])}async _resetBrowserFlags(){this._browserLocalConfig?.clearSessionStorage()}async _setBrowserFlag(e,t){this._browserLocalConfig?.setFeature(e,t,"session"),console.info("Success - flag set locally in this browser.")}async _setBrowserFlagList(e,t){this._browserLocalConfig?.setFeaturesToValue(e,t,"session"),console.info("Success - flag set locally in this browser.")}async enableAllFeatureFlags(){const e=await this.getFeatures(!1),t=Object.keys(e);this._browserLocalConfig?.setFeaturesToValue(t,!0,"session"),console.info("Success - all flags set locally in this browser.")}getFloodgateKeyOrName(e){if(!this._initialized){throw new Error("Checking feature values can only be done after appConfig.initialize(..)")}return this._compiledAppConfig.floodgateFeatureNames[e]??void 0}async getAppDraftModelFlags(){await this.initialized();const e=this._localConfig.features;return Object.values(r._5).filter((t=>e[t]??r.Vd.has(t)))}async adoptDraftModelFlags(e){if(!this._browserLocalConfig)return!1;const t={};for(const s of e)t[s]=!0;const s=await this.getAppDraftModelFlags();for(const i of s)e.includes(i)||(t[i]=!1);return this._browserLocalConfig.setFeatures(t,"session"),!0}async persistAllBrowserFlags(){await this.initialized(),this._browserLocalConfig?.persistURLConfigToSessionStorage()}async getCurrentBuildState(){return await this.initialized(),void 0===this._rrsDynamicConfig?o.C.unknown:this._rrsDynamicConfig.getBuildState(c.q.rrBuildSha.value)}getCurrentBuildStateSync(){return void 0===this._rrsDynamicConfig?o.C.unknown:this._rrsDynamicConfig.getBuildStateSync(c.q.rrBuildSha.value)}addBuildStateObserver(e){this._rrsDynamicConfig?.addBuildStateObserver(c.q.rrBuildSha.value,e)}}},718017:(e,t,s)=>{s.d(t,{Pb:()=>n});var i=s(474429);const r="_hz_browser_flags",o="_hz_browser_settings";class n{constructor(e=new URLSearchParams(window.location.search)){this._localFeatures={},this._localSettings={},this._sessionFeatures={},this._sessionSettings={},this._loadFromBrowserStorage(),this._extractFlagsFromURLParams(e)}get localConfig(){return{features:{...this._localFeatures,...this._sessionFeatures},settings:{...this._localSettings,...this._sessionSettings}}}_extractFlagsFromURLParams(e){try{if(e.has(i.w$)&&(this._sessionFeatures={},this._sessionStorage?.removeItem(r)),e.has(i.VP)){e.getAll(i.VP).forEach((e=>{this._sessionFeatures[e]=!0}))}if(e.has(i.wC)){e.getAll(i.wC).forEach((e=>{this._sessionFeatures[e]=!1}))}}catch(e){console.warn("error extracting feature flags from URL params",e)}}persistURLConfigToSessionStorage(){try{this._sessionStorage?.setItem(r,JSON.stringify(this._sessionFeatures)),this._sessionStorage?.setItem(o,JSON.stringify(this._sessionSettings))}catch(e){console.warn("error persisting session config to session storage",e)}}clearSessionStorage(){try{this._sessionFeatures={},this._sessionSettings={},this._sessionStorage?.removeItem(r),this._sessionStorage?.removeItem(o)}catch(e){console.warn("error clearing session storage",e)}}clearLocalStorage(){try{this._localFeatures={},this._localSettings={},this._localStorage?.removeItem(r),this._localStorage?.removeItem(o)}catch(e){console.warn("error clearing local storage",e)}}clear(){this.clearSessionStorage(),this.clearLocalStorage()}setFeature(e,t,s){this.setFeatures({[e]:t},s)}setFeaturesToValue(e,t,s){const i={};e.forEach((e=>{i[e]=t})),this.setFeatures(i,s)}setFeatures(e,t){try{const s="session"===t?this._sessionFeatures:this._localFeatures;Object.assign(s,e);const i="session"===t?this._sessionStorage:this._localStorage;if(!i)return void console.warn(`${t} storage is required to use setFeatures. in-memory setting only`);i.setItem(r,JSON.stringify(s))}catch(e){console.warn(`error setting features in ${t} storage. in-memory setting only`,e)}}setSetting(e,t,s="session"){this.setSettings({[e]:t},s)}setSettings(e,t="session"){try{const s="session"===t?this._sessionSettings:this._localSettings;Object.assign(s,e);const i="session"===t?this._sessionStorage:this._localStorage;if(!i)return void console.warn(`${t} storage is required to use setSettings. in-memory setting only`);i.setItem(o,JSON.stringify(s))}catch(e){console.warn(`error setting settings in ${t} storage. in-memory setting only`,e)}}removeSettings(e,t="session"){try{const s="session"===t?this._sessionSettings:this._localSettings;e.forEach((e=>{delete s[e]}));const i="session"===t?this._sessionStorage:this._localStorage;if(!i)return void console.warn(`${t} storage is required to use removeSettings. in-memory removing only`);i.setItem(o,JSON.stringify(s))}catch(e){console.warn(`error removing settings in ${t} storage`,e)}}get _localStorage(){try{return window.localStorage}catch(e){return}}get _sessionStorage(){try{return window.sessionStorage}catch(e){return}}_loadFromBrowserStorage(){this._localFeatures=this._loadFeaturesFromStorage("local"),this._localSettings=this._loadSettingsFromStorage("local"),this._sessionFeatures=this._loadFeaturesFromStorage("session"),this._sessionSettings=this._loadSettingsFromStorage("session");const e=this.localConfig;for(const t of Object.keys(e.features)){const s=this._sessionFeatures[t]?"session":"local";console.info(`BrowserLocalConfig: feature[${t}] = ${e.features[t]} (${s} storage)`)}for(const t of Object.keys(e.settings)){const s=this._sessionFeatures[t]?"session":"local";console.info(`BrowserLocalConfig: setting[${t}] = ${e.settings[t]} (${s} storage)`)}}_loadFeaturesFromStorage(e){try{const t="session"===e?this._sessionStorage:this._localStorage;if(!t)return console.warn(`${e} storage not available. Cannot load features`),{};const s=t.getItem(r);return s?JSON.parse(s):{}}catch(t){return console.warn(`error loading features from ${e} storage`,t),{}}}_loadSettingsFromStorage(e){try{const t="session"===e?this._sessionStorage:this._localStorage;if(!t)return console.warn(`${e} storage not available. Cannot load settings`),{};const s=t.getItem(o);return s?JSON.parse(s):{}}catch(t){return console.warn(`error loading settings from ${e} storage`,t),{}}}}},545030:(e,t,s)=>{s.d(t,{J:()=>n});var i=s(766545),r=s(357302),o=s(172245);class n{constructor(e,t){if(this._buildStateObservers=new Map,this._setConfiguration=async()=>{try{const e=this._rrsDynamicConfig;this._rrsDynamicConfig=await this._rrApiClient.getConfiguration();for(const[t,s]of this._buildStateObservers.entries()){const i=this._rrsDynamicConfig?.builds[t]?.state;e?.builds[t]?.state!==i&&s(i)}}catch(e){console.error("Error while syncing dynamic config",e)}},this._initializedPromise=new Promise((e=>{this._initializedPromiseResolver=e})),!n.isConfigured())return console.info("At least one of the required settings is missing. Skipping heartbeat initialization."),void this._initializedPromiseResolver();this._host=e,this._sessionId=t,this._rrApiClient=new i.V({rrEntryName:o.q.rrEntryName.value,rrEntryConfigName:o.q.rrEntryConfigName.value,rrTrafficTargetName:o.q.rrTrafficTargetName.value,bundleHash:o.q.rrBuildSha.value,host:this._host,sessionId:this._sessionId})}static isConfigured(){return""!==o.q.rrEntryName.value&&""!==o.q.rrEntryConfigName.value&&""!==o.q.rrTrafficTargetName.value&&""!==o.q.rrBuildSha.value}async getDynamicConfig(){return await this._initializedPromise,this._rrsDynamicConfig}initAndScheduleSyncIfNeeded(){n.isConfigured()?setTimeout((async()=>{await this._setConfiguration(),this._initializedPromiseResolver(),this._scheduleDynamicConfigSync()}),7e4):this._initializedPromiseResolver()}async getBuildState(e){return await this._initializedPromise,this.getBuildStateSync(e)}getBuildStateSync(e){return void 0===this._rrsDynamicConfig||void 0===this._rrsDynamicConfig.builds?r.C.unknown:void 0===this._rrsDynamicConfig.builds[e]?r.C.avoid:this._rrsDynamicConfig.builds[e].state}addBuildStateObserver(e,t){this._buildStateObservers.set(e,t)}_scheduleDynamicConfigSync(){setInterval(this._setConfiguration,60*o.q.rrConfigSyncInterval.value*1e3)}}},114244:(e,t,s)=>{s.d(t,{NE:()=>n,NK:()=>a,pE:()=>o});var i=s(937472);class r{constructor(e){this.name=e.name,this._appConfig=new i.B}attach(e){this._appConfig instanceof i.B&&this._appConfig.resolve(e),e.isLazySetting(this.name)&&(this._deferred=new i.B),this._appConfig=e}get value(){if(this._appConfig instanceof i.B){const e=`Setting not attached to appConfig: ${this.name}`;throw console.error(e),new Error(e)}if(this._deferred){const e=`This setting doesn't have a value yet, you should use getValue to wait for it: ${this.name}`;throw console.error(e),new Error(e)}return this._appConfig._getSettingValue(this.name)}async getValue(){return this._appConfig instanceof i.B&&await this._appConfig.promise,this._valueProvider?(this._deferred.adoptOnce(this._valueProvider),this._deferred.promise.then((e=>{delete this._deferred,this._appConfig._setSettingValue(this.name,e)})),this._deferred.promise):this.value}async initialized(){this._appConfig instanceof i.B&&await this._appConfig.promise}}class o extends r{constructor(e,t){super({name:e,valueDefault:t})}}class n extends r{constructor(e,t,s){super({name:e,valueDefault:t,envOverrides:s})}}class a extends r{constructor(e){super({name:e})}}},119512:(e,t,s)=>{s.d(t,{L:()=>r});var i=s(172245);class r{constructor(e){this._appConfig=e,this._appConfig.attach(i.q),this._initPromise=this._init()}async getEnabledFeatures(e){return await this._initPromise,this._getAllEnabledFeatures(e)}async _init(){this._host=await this._appConfig.getHost(),this._apiKey=i.q.floodgateApiKey.value,this._clientId=i.q.floodgateClientId.value,this._featuresUrl=i.q.floodgateFeaturesUrl.value}async _getAllEnabledFeatures(e){try{const t=await this._callFeaturesApi(e);return this._extractFeaturesFromApiResponse(t)}catch(e){return console.warn("Caught error while trying to obtain FloodGate features",e),{}}}_extractFeaturesFromApiResponse(e){if(void 0===e.releases)return{};const t={};return e.releases.forEach((e=>{e.features.forEach((e=>t[e]=!0))})),t}async _callFeaturesApi(e){const t=this._getFeaturesUrl(),s=await this._getRequestHeaders(e),i=await this._host.fetch(t,{method:"GET",headers:s});return await i.json()}_getFeaturesUrl(){return`${this._featuresUrl}?clientId=${this._clientId}`}async _getRequestHeaders(e){const t={"x-api-key":this._apiKey,"Content-Type":"application/json"};return void 0!==e&&(t.Authorization=`Bearer ${e}`),t}}},781469:(e,t,s)=>{s.d(t,{Y:()=>r});var i=s(119512);class r{constructor(e){this._resyncScheduled=!1,this._updateListeners={},this._appConfig=e,this._initFloodgatePromise=new Promise(((e,t)=>{this._resolveFloodgateFeatures=e})),this._floodgateConnector=this._createFloodgateConnector(),this._initEnabledFeatures()}static getInstance(e){return void 0===r._instance&&(r._instance=new r(e)),r._instance}_createFloodgateConnector(){return new i.L(this._appConfig)}async syncNow(){return void 0===this._onDemandSyncPromise&&(this._onDemandSyncPromise=new Promise(((e,t)=>{setTimeout((async()=>{try{await this._resyncFeatures(!1),e()}catch(e){t(e)}finally{this._onDemandSyncPromise=void 0}}))}))),this._onDemandSyncPromise}async getFeatureState(e){return(await this._initFloodgatePromise)[e]??!1}registerForUpdates(e,t){if(!0!==e.floodgateData.dynamic)throw new Error(`Cannot register feature "${e.name}" for updates because it is not dynamic.`);this._updateListeners[e.name]=t,this._resyncScheduled||this._scheduleResync()}async _initEnabledFeatures(){const e=await this._getAccessToken(),t=await this._floodgateConnector.getEnabledFeatures(e);this._resolveFloodgateFeatures(t)}async _resyncFeatures(e=!0){const t=await this._getAccessToken();void 0===t&&console.warn("AppConfig: Floodgate API will be called without an access token.");const s=await this._floodgateConnector.getEnabledFeatures(t);for(const e of Object.keys(this._updateListeners)){const t=s[e]??!1;try{this._updateListeners[e](t)}catch(s){console.warn(`An error was caught when trying to update feature "${e}" with state "${t}":`,s)}}e&&this._scheduleResync()}_scheduleResync(){setTimeout((async()=>{this._resyncFeatures()}),r.RESYNC_INTERVAL),this._resyncScheduled=!0}async _getAccessToken(e=5e3){const t=new Promise(((t,s)=>{setTimeout((()=>t(void 0)),e)})),s=await Promise.race([t,this._appConfig.getAccessTokenProvider()]);if(void 0!==s)return console.info("AppConfig: Got IMS access token provider"),s.getAccessTokenValue();console.warn(`AppConfig: No IMS access token provider received in ${e} ms`)}}r.RESYNC_INTERVAL=3e5},668348:(e,t,s)=>{s.d(t,{A9:()=>o,eW:()=>i,st:()=>a,su:()=>r,xn:()=>n});var i=(e=>(e.default="default",e.noStore="no-store",e.reload="reload",e.noCache="no-cache",e.forceCache="force-cache",e.onlyIfCached="only-if-cached",e))(i||{}),r=(e=>(e.omit="omit",e.sameOrigin="same-origin",e.include="include",e))(r||{}),o=(e=>(e.follow="follow",e.error="error",e.manual="manual",e))(o||{}),n=(e=>(e.noReferrer="no-referrer",e.noReferrerWhenDowngrade="no-referrer-when-downgrade",e.origin="origin",e.originWhenCrossOrigin="origin-when-cross-origin",e.sameOrigin="same-origin",e.strictOrigin="strict-origin",e.strictOriginWhenCrossOrigin="strict-origin-when-cross-origin",e.unsafeURL="unsafe-url",e))(n||{}),a=(e=>(e[e.Browser=0]="Browser",e[e.Node=1]="Node",e[e.Worker=2]="Worker",e))(a||{})},399477:(e,t,s)=>{s.d(t,{f:()=>_e});var i=s(668348),r=s(802215),o=s(152598),n=s(955441),a=s(132565),c=s(841835);const l=/access_token=[0-9A-Za-z-._%&=]+/,d="horizon_app_access_country",h=r.CA.EVENT_SOURCE_PLATFORM,_=r.CA.DEVICE_NAME,g=r.CA.PLATFORM_TYPE,u=r.CA.EVENT_SOURCE_OS_VERSION,f=r.CA.USER_BROWSER_INFO,E=r.CA.EVENT_USER_AGENT,p=r.CA.EVENT_THREAD,m=r.CA.EVENT_ENVIRONMENT,C=r.CA.EVENT_ENVIRONMENT_TYPE,v=r.CA.MOBILE_ID,w=r.CA.MOBILE_INSTALL_DATE,y=r.CA.DEVICE_HEIGHT,S=r.CA.DEVICE_WIDTH,A=r.CA.EVENT_BUILD,R=r.CA.EVENT_BUILD_BRANCH,T=r.CA.EVENT_BUNDLE_HASH,b=r.CA.EVENT_OVERRIDES_CONFIGURATION_HASH,I=r.CA.EVENT_SOURCE_CLIENT_ID,O=r.CA.EVENT_SOURCE_NAME,P=r.CA.EVENT_SOURCE_VERSION,F=r.CA.EVENT_MOBILE_APP_VERSION,L=r.CA.EVENT_NETWORK_TYPE,N=r.CA.EVENT_REFERRER,D=r.CA.EVENT_URL,U=r.CA.EVENT_LOCALE,x=r.CA.DISPLAYED_LANGUAGE,k=r.CA.PROFILE_COUNTRY,z=r.CA.ACCESS_COUNTRY,V=r.CA.ENTITLEMENT_TYPE,M=r.CA.EVENT_SESSION_ID,B=r.CA.IS_NEW_USER,G=r.CA.EVENT_MCID_GUID,j=r.CA.SESSION_RECORDING_URL,$=r.CA.EVENT_CONTEXT_GUID,H=r.CA.EVENT_USER_GUID,W=r.CA.EVENT_PROFILE_GUID,q=r.CA.USER_SERVICE_CODE,K=r.CA.USER_SERVICE_LEVEL,Y=r.CA.USER_ACCOUNT_TYPE,X=r.CA.IS_EDU_USER,J=r.CA.CUSTOM_USER_ID_TYPE,Z=r.CA.CUSTOM_USER_OFFERING,Q=r.CA.EVENT_GUID,ee=r.CA.EVENT_CATEGORY,te=r.CA.CONTEXT_USER_ROLE,se=r.CA.CONTEXT_GUID,ie=r.CA.CONTENT_SCHEMA_VERSION,re=r.CA.EXPERIMENTS_ASSIGNED,oe=r.CA.CUSTOM_REFERRER_APP,ne=r.CA.CUSTOM_REFERRER_ACTION,ae=r.CA.CUSTOM_REFERRER_ASSET_ID,ce=r.CA.CUSTOM_REFERRER_INTENT,le=r.CA.CUSTOM_REFERRER_LANDING_TAB,de=[E,A,R,T,b,se,N,D,U,z,k,V,C,m,G,j,M,H,Y,B,X,J,Z,re,q,K,I,g,L,_,y,S,f,oe,ne,ae,ce,le],he=[u,v,w];class _e{constructor(e,t,s,i){this._initTimeoutId=0,this._embedParams=[],this._initAttributesPromises=[],this._accessCountryPromise=new Promise(((e,t)=>{this._resolveAccessCountry=()=>{this._resolveAccessCountry=void 0,e()}})),this._IMSUserData=new Promise(((e,t)=>{this._resolveIMSUserData=()=>{this._resolveIMSUserData=void 0,e()}})),this._IMSIdData=new Promise(((e,t)=>{this._resolveIMSIdData=()=>{this._resolveIMSIdData=void 0,e()}})),this._windowResizeHandler=(0,o.Z)((()=>this.extractDeviceDimensions(window)),r.zi),this._windowResizeHandlerLoaded=!1,this._initialized=!1,this._data={},this._listeners=[],this._hostPromise=e,this._configPromise=s,this._alloyService=i,this._data[M]=t,this._data[z]="",this.assignedExperiments="",this.assignedOverridesConfigurationHash="",this._initAttributesPromises=[this._hostPromise,this._configPromise,this._initDeviceContext(),this._initMcidGuidContext(),this._initAppContext(),this._initPageContext(),this._initAccessCountry(),this._initIMSUserData(),this._initIMSIdData()];const n=this._createInitTimeout();"undefined"==typeof window&&(this._initAttributesPromises=[],clearTimeout(this._initTimeoutId));const a=Promise.allSettled(this._initAttributesPromises);this._initPromise=Promise.race([a,n]),this._initDocContext(),this.extractAccessCountry()}async _initAccessCountry(){await this._accessCountryPromise}async _initIMSUserData(){await this._IMSUserData}async _initIMSIdData(){await this._IMSIdData}_indicateTimeout(){console.warn("Analytics Context Timeout before initialized.")}_createInitTimeout(){return new Promise(((e,t)=>{this._initTimeoutId=setTimeout((()=>{this._indicateTimeout(),e()}),3e3)}))}async _initDeviceContext(){const e=await this._hostPromise,t=e.deviceAgent();switch(this._data[E]=t,this._data[L]=this._getNetworkTypeForAnalytics(e),e.executionEnvironment()){case i.st.Browser:{this._data[p]="main";const e=t.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i),s=t.match(/(Macintosh)/i),r=t.match(/(Win)/i),o=t.match(/(CrKey)/i),a=window?.navigator?.maxTouchPoints>0;e?(this._data[h]=e[0],!1===(0,n.eW)(i.st.Browser)?this._data[g]="mobile-web":((0,n.PR)()&&(this._data[g]="android"),(0,n.te)()&&(this._data[g]="iOS"))):s&&a?(this._data[h]="iPad",this._data[g]="mobile-web"):r&&a?(this._data[h]="Windows",this._data[g]="mobile-web"):o?(this._data[h]="Chromecast",this._data[g]="mobile-web"):(this._data[h]="browser",this._data[g]="desktop-web"),this._data[u]="Web",this._data[_]=this.extractDeviceName(t),window?.addEventListener("resize",this._windowResizeHandler),this._windowResizeHandlerLoaded=!0,this.extractDeviceDimensions(window);break}case i.st.Node:this._data[h]="nodejs",this._data[p]="main",this._data[u]="Server";break;case i.st.Worker:this._data[h]="browser",this._data[p]="worker-thread",this._data[u]="Web"}}_getNetworkTypeForAnalytics(e){const t=e.connection()?.effectiveType,s=e.connection()?.type;return void 0===t?r.kC.NOT_SPECIFIED:void 0===s?t:`${t}/${s}`}async _initAppContext(){const e=await this._configPromise;this._data[A]=`${e.includeIngestBuildPrefix?"prod"===e.envName?"prod:":"stage:":""}${e.buildInfo.sha}`,this._data[R]=e.buildInfo.branch,this._data[T]=e.bundleHash,this._data[ee]=e.ingestAppCategory,this._data[m]=e.envName,this._data[C]=e.env,this._data[O]=e.appSAPCode,this._data[P]=e.appVersion}async _initPageContext(){if((await this._hostPromise).executionEnvironment()===i.st.Browser){const e=this._documentHref();this._data[D]=e.replace(l,""),this._data[N]=document.referrer}}_documentHref(){return document.location.href}async _initMcidGuidContext(){const e=await this._hostPromise,t=e.deviceLanguage();this._data[U]=t;const s=(await this._configPromise).useExperienceEdge;e.executionEnvironment()===i.st.Browser&&s&&(this.mcidGuid=await this._alloyService.mcidGuid())}_setAndResolveAccessCountry(e){this._data[z]=e,this._broadcastUpdate([z]),this._resolveAccessCountry&&this._resolveAccessCountry()}async fetchGeo2location(){const e=await fetch("https://geo2.adobe.com/json/");return await e.text()}async extractAccessCountry(){if((await this._hostPromise).executionEnvironment()===i.st.Browser){const e=sessionStorage.getItem(d);if(e)this._setAndResolveAccessCountry(e);else try{const e=await this.fetchGeo2location();if(e){const t=JSON.parse(e),s=String(t.country);sessionStorage.setItem(d,s),this._setAndResolveAccessCountry(s)}}catch(e){console.warn("Failed to get location data from geo2.adobe.com")}}}_initDocContext(){this._data[se]="",this._data[ie]="",this._data[te]=""}async userIdInitialized(){await this._initIMSUserData()}async initialized(){this._initialized||(await this._initPromise,clearTimeout(this._initTimeoutId),this._initialized=!0)}shutdown(){this._windowResizeHandlerLoaded&&window?.removeEventListener("resize",this._windowResizeHandler)}updateShellAppContext(e){e&&0!==Object.keys(e).length&&!0===(0,n.eW)(i.st.Browser)&&(this.updateFromPayload(e),this._broadcastUpdate(Object.keys(e)))}adornEventData(e){Object.keys(this._data).forEach((t=>{e[t]||(e[t]=this._data[t])})),e[Q]=e[Q]||(0,a.Z)(),!e[se]&&this.currentAssetId&&(e[se]=this.currentAssetId),e[r.CA.EVENT_TIME_START]||(e[r.CA.EVENT_TIME_START]=(new Date).toISOString()),e[r.CA.EVENT_COUNT]||e[r.CA.EVENT_WORKFLOW]===r.kC.WORKFLOW_DEBUG||(e[r.CA.EVENT_COUNT]=1);const t=(0,c.T)();t&&(e[r.CA.SESSION_RECORDING_URL]=t)}addListener(e){this._listeners.push(e)}_callListeners(e){this._listeners.forEach((t=>{t(e)}))}generateInitPayload(){const e=Object.values(r.eN).filter((e=>Boolean(this._data[e]))),t=[...de,...e];if(!0===(0,n.eW)(i.st.Browser)){const e=Object.values(he).filter((e=>Boolean(this._data[e])));t.push(...e)}return this._embedParams.length&&t.push(...this._embedParams),this._generatePayload(t)}_generatePayload(e){const t={};return e.forEach((e=>{t[e]=this._data[e]})),t}_broadcastUpdate(e){this._callListeners(this._generatePayload(e))}async updateFromPayload(e){await this.initialized();Object.keys(e).forEach((t=>{this._data[t]=e[t]}))}addContextGUID(e){this._data[$]=e}removeContextGUID(){delete this._data[$]}set imsProfile(e){const t=e.account_type,s=[];let i;if(this._data[H]=String(e.userId),this._data[Y]=String(t),e.profileId&&(this._data[W]=String(e.profileId),s.push(W)),e.countryCode&&(this._data[k]=String(e.countryCode),s.push(k)),e.serviceAccounts&&(i=e.serviceAccounts.find((e=>"creative_cloud"===e.serviceCode))),this._data[K]=i?i.serviceLevel:"",this._data[q]=i?i.serviceCode:"",e.email){const t=e.email.toLowerCase();(t.endsWith("@adobe.com")||t.endsWith("@adobetest.com"))&&(this._data[q]+="_adobe")}this._broadcastUpdate([H,Y,K,q,...s]),this._resolveIMSUserData&&this._resolveIMSUserData()}set imsIdData(e){const t=e.client_id||"no-client-id";this._data[I]=t,this._broadcastUpdate([I]),this._resolveIMSIdData&&this._resolveIMSIdData()}set pageURL(e){this._data[D]=e.replace(l,""),this._broadcastUpdate([D])}get isInternalUser(){return String(this._data[q]).endsWith("_adobe")}set accessCountry(e){this._setAndResolveAccessCountry(e)}get accessCountry(){return this._data[z]}set threadName(e){this._data[p]=e}get threadName(){return this._data[p]}get deviceName(){return this._data[h]}set mcidGuid(e){this._data[G]=e,this._broadcastUpdate([G])}get mcidGuid(){return this._data[G]}set expressEntitlementType(e){this._data[V]=e,this._broadcastUpdate([V])}get expressEntitlementType(){return this._data[V]}set sessionRecordingUrl(e){this._data[j]=e,this._broadcastUpdate([j])}get sessionRecordingUrl(){return this._data[j]}set sessionId(e){this._data[M]=e,this._broadcastUpdate([M])}get sessionId(){return this._data[M]}get newUserStatus(){return this._data[B]}set newUserStatus(e){this._data[B]=e,this._broadcastUpdate([B])}get eduUserStatus(){return this._data[X]}set eduUserStatus(e){this._data[X]=e,this._broadcastUpdate([X])}get eduUserIdTypeStatus(){return this._data[J]}set eduUserIdTypeStatus(e){this._data[J]=e,this._broadcastUpdate([J])}get userOffering(){return this._data[Z]}set userOffering(e){this._data[Z]=e,this._broadcastUpdate([Z])}get displayedLanguage(){return this._data[x]}set displayedLanguage(e){this._data[x]=e,this._broadcastUpdate([x])}get customUserIdTypeStatus(){return this._data[J]}set customUserIdTypeStatus(e){this._data[J]=e,this._broadcastUpdate([J])}set userHasEditRights(e){this._data[te]=e?"editor":"viewer",this._broadcastUpdate([te])}set currentAssetId(e){this._data[se]=e,this._broadcastUpdate([se])}async setEmbedContextAndParams(e){this._embedParams=Object.keys(e),await this.updateFromPayload(e),this._broadcastUpdate(Object.keys(e))}set currentDocumentVersion(e){this._data[ie]=e,this._broadcastUpdate([ie])}set assignedExperiments(e){this._data[re]=e,this._broadcastUpdate([re])}set assignedOverridesConfigurationHash(e){this._data[b]=e,this._broadcastUpdate([b])}extractDeviceDimensions(e){e&&(this._data[y]=String(e?.outerHeight),this._data[S]=String(e?.outerWidth),this._broadcastUpdate([y,S]))}extractDeviceName(e){const t=e.match("\\(([^)]+)\\)");return t?t[1]:e}get osVersion(){return this._data[u]}get appVersion(){return this._data[P]}get appName(){return this._data[O]}get userId(){return this._data[H]}get mobileAppVersion(){return this._data[F]}get browserInfo(){return this._data[f]}set browserInfo(e){this._data[f]=e,this._broadcastUpdate([f])}addCampaignProperties(e){if(e&&Object.keys(e).length>0)for(const t in e)this._data[t]=e[t]}get customReferrerApp(){return this._data[oe]}get customCampaingReferrerApp(){return this._data[r.eN.MV2]}get customReferrerIntent(){return this._data[ce]}}},640739:(e,t,s)=>{s.d(t,{h:()=>l});var i=s(668348),r=s(937472),o=s(802215),n=s(955441);const a=["adobePrivacy:PrivacyConsent","adobePrivacy:PrivacyCustom","adobePrivacy:PrivacyReject"],c="PrivacyServiceError: Failed to load";class l{constructor(e,t){this._onLoadHandler=()=>{this._loadPromise?.isSettled||(window.adobePrivacy?this._loadPromise?.resolve():this._loadPromise?.reject("PrivacyServiceError: window.adobePrivacy API is not available after load event."))},this._hostConfigPromises=Promise.all([e,t]).then((([e,t])=>{this._config=t,this._host=e}))}addConsentChangeListener(e,t){this.load().then((()=>{if((0,n.eW)(i.st.Browser))return Promise.resolve();this._host.executionEnvironment()===i.st.Browser&&(this._addPrivacyListener(e),e())})).catch((e=>{console.error(e),t([{[o.CA.EVENT_WORKFLOW]:"Debug",[o.CA.EVENT_SUBTYPE]:"log",[o.CA.EVENT_TYPE]:"failure",error:e}])}))}_addPrivacyListener(e,t=!1){const s=t?()=>{e(),a.forEach((e=>{window.removeEventListener(e,s)}))}:e;a.forEach((e=>{window.addEventListener(e,s)}))}_registerLoadListeners(){this._addPrivacyListener(this._onLoadHandler.bind(this),!0)}_registerConfigs(){const{otDomainId:e,footerLinkSelector:t,documentLanguage:s}=this._config,i={otDomainId:e};t&&(i.footerLinkSelector=t),s&&(i.documentLanguage=s),window.fedsConfig=window.fedsConfig||{privacy:i}}async _loadPrivacy(){if(await this._hostConfigPromises,this._host.executionEnvironment()===i.st.Browser){this._registerConfigs(),this._registerLoadListeners();const e=document.createElement("script");e.src=this._config.privacyUrl,e.async=!0,e.addEventListener("error",(()=>{!this._loadPromise?.isSettled&&this._loadPromise?.reject(c)})),document.head.appendChild(e)}else!this._loadPromise?.isSettled&&this._loadPromise?.resolve()}async load(){return this._loadPromise?this._loadPromise.promise:(this._loadPromise=new r.B,(0,n.eW)(i.st.Browser)||this._loadPrivacy().catch((()=>{!this._loadPromise?.isSettled&&this._loadPromise?.reject(c)})),this._loadPromise?.promise)}resolvePrivacyLoadInNativeAppShell(){this._loadPromise?.resolve()}rejectLoadPromise(){this._loadPromise?.reject(c)}}},500735:(e,t,s)=>{s.d(t,{G:()=>o});var i=s(668348),r=s(802215);class o{constructor(e,t){this.sendEvent=this.sendEvent.bind(this),this.mcidGuid=this.mcidGuid.bind(this),this._isInitialized=!1,this._initPromise=Promise.all([e,t]).then((([e,t])=>{this._host=e,this._config=t}))}async _initialized(){try{await this._initPromise;if(this._config.useExperienceEdge&&this._host.executionEnvironment()===i.st.Browser){const e=await Promise.all([s.e(61988),s.e(80896)]).then(s.bind(s,854278));this._alloy=e.createInstance({name:"_alloy"}),this._alloy("configure",{clickCollectionEnabled:!1,edgeConfigId:this._config.aepConfigId,orgId:this._config.aepOrgId,debugEnabled:!1,edgeDomain:"sstats.adobe.com"})}this._isInitialized=!0}catch(e){console.error("Failed to initialized alloy",e)}}_generatePayload(e){return{eventType:"web.webinteraction.linkClicks",xdm:{web:{webPageDetails:{isErrorPage:!1,isHomePage:!1,name:window.location.host,server:window.location.href,siteSection:window.location.href},webReferrer:{URL:e[r.CA.EVENT_REFERRER]||""},webInteraction:{name:e[r.CA.EVENT_PAGENAME]||"",linkClicks:{value:1},type:"other"}}},data:{_adobe_corpnew:{digitalData:{},sdm:this._unflatten(e)},marketingtech:{adobe:{alloy:{approach:"optimized",edgeConfigId:this._config.aepConfigId}}}}}}_setProp(e,t,s){const i=t.indexOf("."),r=t.substring(0,i),o=t.substring(i+1);e[r]=e[r]||{};const n=e[r];o.includes(".")?this._setProp(n,o,s):n[o]=s}_unflatten(e){const t={};for(const s of Object.keys(e))s.includes(".")?this._setProp(t,s,e[s]):t[s]=e[s];return t}_sendEvent(e){this._config.useExperienceEdge&&this._alloy("sendEvent",e).catch((e=>{console.warn("AlloyService encountered an unexpected error sending events to AEP",e)}))}sendEvent(e){const t=this._generatePayload(e);this._isInitialized?this._sendEvent(t):this._initialized().then((()=>{this._sendEvent(t)}))}async mcidGuid(){if(this._isInitialized||await this._initialized(),!this._config.useExperienceEdge)return"";try{return(await this._alloy("getIdentity")).identity?.ECID??r.J6}catch(e){return console.warn("Could not get ECID. Mostly adBlocker is blocking calls to AEP",e),r.J6}}}},319308:(e,t,s)=>{s.d(t,{vC:()=>c});var i=s(156953),r=s(937472),o=s(337566),n=s(802215);var a;!function(e){e[e.disabled=1]="disabled",e[e.savingEvents=2]="savingEvents",e[e.discardingEvents=3]="discardingEvents"}(a||(a={}));class c{constructor(e,t){this._isInitialized=!1,this._maxQueueLength=250,this._events=[],this._configPromise=t,this._ingestService=i.k.createInstance(e,t.then((e=>e.ingestConfig))),this._initializedPromise=this._processOnceInitialized()}async shutdown(){await this._initializedPromise,clearInterval(this._queueIntervalHandle),this._queueIntervalHandle=void 0,await this._processQueueAsync()}async _processOnceInitialized(){await this._ingestService.initialized();const e=await this._configPromise,t=e.ingestProcessingInterval;this._maxQueueLength=e.analyticsBufferLimit,this._isInitialized=!0,this._queueIntervalHandle=setInterval((()=>{this._processQueue()}),t),this._processQueue()}async initialized(){return this._initializedPromise}_isLowPriority(e){return e[n.CA.LOG_LEVEL]!==n.kC.LOG_LEVEL_ERROR}_isOverflow(){return this._events.length>this._maxQueueLength}_handleOverflow(){let e=!1;for(let t=0;t<this._events.length;t++)if(this._isLowPriority(this._events[t])){e=!0,console.warn("EventDataTransport overflow with High Priority Event, dropping log event below error level."),this._events.splice(t,1);break}e||(console.error("EventDataTransport overflow, dropping important event."),this._events.shift())}queueEventData(e){this._events.push(e),this._isOverflow()&&this._handleOverflow(),this._isInitialized&&this._events.length>=20&&this._processQueue()}async _processQueueAsync(){if(this._queueIsSending)return this._queueIsSending.promise;if(!this._events.length)return;this._queueIsSending=new r.B;const e={maxAttempts:3,shouldRetry:e=>!(e instanceof i.o&&!1===e.retryable)};for(;this._events.length>0;)try{const t=(0,o.X)(this._ingestService.sendEventData,e),s=this._events.slice(0,Math.min(this._events.length,20));await t(s),this._events.splice(0,Math.min(s.length,20))}catch(e){console.error("EventDataTransport: encountered an error trying to send events to Ingest",e);break}this._queueIsSending.resolve(),this._queueIsSending=void 0}_processQueue(){this._queueIsSending||this._processQueueAsync()}get queueIsSendingPromise(){return this._queueIsSending?.promise}get queueLength(){return this._events.length}get maxQueueLength(){return this._maxQueueLength}}},156953:(e,t,s)=>{s.d(t,{k:()=>l,o:()=>c});var i=s(668348),r=s(802215),o=s(132565);const n=[r.CA.ERROR_FULL_STACK,r.CA.ERROR_LOG_METADATA,r.CA.EVENT_URL],a=[r.CA.LOG_METADATA,r.CA.ERROR_LOG_METADATA];class c extends Error{constructor(e){super(e),this.name="IngestAPIError",this.retryable=!0}}class l{constructor(e,t){this.sendEventData=this.sendEventData.bind(this),this._initPromise=Promise.all([t,e]).then((([e,t])=>{this._host=t,this._config=e,this._url=new URL("/ingest",this._config.ingestHost)}))}static createInstance(e,t){return new l(e,t)}async initialized(){await this._initPromise}_getHeaders(){return{"Content-Type":"application/json","x-api-key":this._config.ingestApiKey}}_adornSDMEvent(e){e[r.CA.EVENT_GUID]=e[r.CA.EVENT_GUID]||(0,o.Z)(),e[r.CA.EVENT_CATEGORY]=this._config.ingestAppCategory}_redactTokens(e){const t=/access_token=ey[0-9A-Za-z-._%=]+/g,s=/accessToken=ey[0-9A-Za-z-._%=]+/g,i=/Bearer ey[0-9A-Za-z-._%=]+/g;for(const s of n)this._redactSingleToken(e,s,t,"access_token=XXaccess_token_redactedXX");for(const t of a)this._redactSingleToken(e,t,i,"XXbearer_token_redactedXX"),this._redactSingleToken(e,t,s,"accessToken=XXaccess_token_redactedXX")}_redactSingleToken(e,t,s,i){if(e[t])if("string"!=typeof e[t])for(const r in e[t])this._redactSingleToken(e[t],r,s,i);else e[t]=e[t].replace(s,i)}_wrapSDMData(e){const t={};return t[r.CA.EVENT_PKG_INGEST_TYPE]=r.kC.INGEST_TYPE,e[r.CA.OVERRIDE_PKG_PROJECT]?(t[r.CA.EVENT_PKG_PROJECT]=e[r.CA.OVERRIDE_PKG_PROJECT],delete e[r.CA.OVERRIDE_PKG_PROJECT]):t[r.CA.EVENT_PKG_PROJECT]=this._config.ingestProject,t[r.CA.EVENT_PKG_TIME]=e[r.CA.EVENT_TIME_START]||(new Date).toISOString(),t[r.CA.EVENT_PKG_ENVIRONMENT]=this._config.envName,t[r.CA.EVENT_PKG_DATA]=e,t}sendEventData(e){const t={headers:this._getHeaders(),body:{events:[]}};for(const s of e)this._adornSDMEvent(s),this._redactTokens(s),t.body.events.push(this._wrapSDMData(s));if(0===t.body.events.length)return Promise.resolve();let s="";try{s=JSON.stringify(t.body)}catch(e){const t=new c("JSON parsing an Ingest event body failed!");return t.retryable=!1,Promise.reject(t)}return this._host.fetch(this._url.href,{method:"POST",keepalive:!0,cache:i.eW.default,credentials:i.su.omit,headers:t.headers,redirect:i.A9.follow,referrerPolicy:i.xn.noReferrer,body:s}).catch((e=>{throw new c(`Network request failed: ${e}`)})).then((e=>{if(!e.ok)throw new c(`Network response was not ok: ${e.status}`)}))}}},595119:(e,t,s)=>{s.d(t,{Yd:()=>g});var i,r=s(801326),o=s(802215),n=s(342356),a=s(469953),c=s(436271),l=s(250213);!function(e){e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.traceflow=5]="traceflow",e[e.none=6]="none"}(i||(i={}));const d={debug:"debug",info:"info",error:"failure",warn:"failure",traceflow:"debug"};var h;!function(e){e.EVENT_TYPE="event.type",e.EVENT_SUBTYPE="event.subtype",e.EVENT_SUBCATEGORY="event.subcategory",e.EVENT_WORKFLOW="event.workflow",e.TRACEFLOW_CATEGORY="custom.traceflow",e.TRACE_ID="custom.traceId",e.SPAN_ID="custom.spanId",e.LOG_MESSAGE="custom.message",e.LOG_LEVEL="custom.level",e.METADATA="custom.meta",e.ERROR_UUID="custom.errorUUID",e.ERROR_MESSAGE="custom.errorMessage",e.ERROR_CODE="custom.errorCode",e.ERROR_FULL_STACK="custom.fullStack",e.ERROR_FULL_MESSAGE_WITH_CODE="custom.fullMessageWithCode",e.ERROR_CATEGORY="custom.errorCategory",e.ERROR_IS_EXPECTED="custom.errorIsExpected",e.ERROR_LOG_METADATA="custom.errorLogMetadata",e.ERROR_CLIENT_FATAL="custom.clientFatal"}(h||(h={}));const _=function(){};class g{constructor(e,t){this._rawFeatures={},this._rawSettings={},this._categoryLoggers=new Map,this._consoleHijacked=!1,this._initialized=!1,this._analyticsClient=e,this._bufferDuringInit=[],this._buildSha=e.appConfig.buildInfo?.sha,this._consoleLogLevel=i.info,this._enabledLogLevel=i.info,this._initializedPromise=this._sendAfterInitialized(t??this._analyticsClient.appConfig)}static set traceflowOverrides(e){g._traceflowOverrides=e}static get traceflowOverrides(){return g._traceflowOverrides}static _captureConsole(){g._originalConsoles[i.traceflow]=console.log,g._originalConsoles[i.debug]=console.debug,g._originalConsoles[i.info]=console.info,g._originalConsoles[i.warn]=console.warn,g._originalConsoles[i.error]=console.error}static hijackConsole(e){g._singleton._consoleHijacked&&g._restoreConsole(),console.info("Logger taking over console"),e._consoleHijacked=!0,console.debug=(...t)=>e.debug(...t),console.log=(...t)=>e.info(...t),console.info=(...t)=>e.info(...t),console.warn=(...t)=>e.warn(...t),console.error=(...t)=>e.error(...t)}static _restoreConsole(){g._singleton._consoleHijacked&&(console.debug=g._originalConsoles[i.debug],console.info=g._originalConsoles[i.info],console.warn=g._originalConsoles[i.warn],console.error=g._originalConsoles[i.error],console.log=g._originalConsoles[i.traceflow],g._singleton._consoleHijacked=!1)}static singleton(){return g._singleton||(g._singleton=new g(r.R.defaultInstance),g._singleton._destroySingleton=()=>{g._restoreConsole(),delete g._singleton},g._captureConsole(),g.HijackConsole&&g.hijackConsole(g._singleton)),g._singleton}get _sendProcessedLogsToConsole(){return Boolean(this._rawFeatures["processed-logs-to-console"])}get _suppressLogsToIngest(){return Boolean(this._rawFeatures["suppress-logs-to-ingest"])}async _sendAfterInitialized(e){const t=await e.getSettings(),s=await e.getFeatures();this._rawFeatures=s,this._rawSettings=t;const i=t.apiKey;this._errorCounter=c.ZP.metrics.getMeterProvider().getMeter(`${i}_logger_init`).createCounter(`hz_${i}_logger_error_count`),this._fatalErrorCounter=c.ZP.metrics.getMeterProvider().getMeter(`${i}_logger_init`).createCounter(`hz_${i}_fatal_crash_error_count`),this._setLogLevelsFromConfig(),this._initialized=!0;for(const e of this._bufferDuringInit)this._filteredPush(e);this._bufferDuringInit=[]}_setLogLevelsFromConfig(){const e=this._rawSettings;e.enabledLogLevel&&(this._enabledLogLevel=i[e.enabledLogLevel]),e.consoleLogLevel&&(this._consoleLogLevel=i[e.consoleLogLevel])}async shutdown(){await this._analyticsClient.shutdown(),g.singleton()._destroySingleton()}async initialized(){return this._initializedPromise}getFeaturesAndSettingsProvider(){return{getSettings:async()=>(await this.initialized(),this._rawSettings),getFeatures:async()=>(await this.initialized(),this._rawFeatures)}}get(e){let t=this._categoryLoggers.get(e);return t||(t=new u(e,this.getFeaturesAndSettingsProvider(),this._analyticsClient),this._categoryLoggers.set(e,t),t)}createRequestLogger(e){return new E(e,this.getFeaturesAndSettingsProvider(),this._analyticsClient)}async createInitializeRequestLogger(e){const t=new E(e,this.getFeaturesAndSettingsProvider(),this._analyticsClient);return await t.initialized(),t}_isErrorMeta(e){return"error"in e}_extractErrorMeta(e){if(this._isErrorMeta(e)){return e.error}return null}_processArgs(e,t){let s,r=t[0];"string"!=typeof r&&(t.length>1&&"string"==typeof t[1]?(r=t[1],t[1]=t[0],t[0]=r):(r="unknown-message",t.unshift(r)));let o,c=null;if(2===t.length)o=t[1],o instanceof n.R||o instanceof Error?(c=o,s={}):"object"==typeof o?(c=this._extractErrorMeta(o),s=(0,a.a1)(o)):s={unknown:(0,a.a1)(t[1])};else if(t.length>2){s=[];for(let e=1;e<t.length;e++)s.push((0,a.a1)(t[e]))}else s={};if(this._hasKnownMetaKeys(s)?this._normalizeMetaKeys(s):s={[h.METADATA]:s},c)if(c instanceof n.R){s[h.ERROR_UUID]=c.uuid,s[h.ERROR_MESSAGE]=c.message,s[h.ERROR_CODE]=c.code,s[h.ERROR_FULL_STACK]=c.fullStack.replace(/[\s]{2,}/g," "),s[h.ERROR_FULL_MESSAGE_WITH_CODE]=c.fullMessageWithCode,c.category&&(s[h.ERROR_CATEGORY]=c.category),c.isExpected&&(s[h.ERROR_IS_EXPECTED]=c.isExpected);const e=c.fullLogMetadata;e&&(s[h.ERROR_LOG_METADATA]=(0,a.a1)(e))}else{s[h.ERROR_MESSAGE]=c.toString();const e=c.stack||"Unknown";s[h.ERROR_FULL_STACK]=e.replace(/[\s]{2,}/g," ")}return{level:i[e],msg:r,meta:s}}_hasKnownMetaKeys(e){let t,s;if(e&&"object"==typeof e)for(const i of Object.keys(e))if(t=i.indexOf("."),t>0&&(s=i.substr(0,t),s in o.Hk))return!0;return!1}_normalizeMetaKeys(e){let t,s;for(const[i,r]of Object.entries(e))t=i.indexOf("."),t<0?(e["custom."+i]=r,delete e[i]):(s=i.substr(0,t),s in o.Hk||(e["custom."+i]=r,delete e[i]))}error(...e){try{if(!this._preprocessLoggerCall(i.error,e))return;const t=this._processArgs("error",e);this._filteredPush(t)}catch(t){console.error("Logger.error(): An error was thrown while logging",t,...e)}}static error(...e){g.singleton().error(...e)}warn(...e){try{if(!this._preprocessLoggerCall(i.warn,e))return;const t=this._processArgs("warn",e);this._filteredPush(t)}catch(t){console.error("Logger.warn(): An error was thrown while logging",t,...e)}}static warn(...e){g.singleton().warn(...e)}info(...e){try{if(!this._preprocessLoggerCall(i.info,e))return;const t=this._processArgs("info",e);this._filteredPush(t)}catch(t){console.error("Logger.info(): An error was thrown while logging",t,...e)}}static info(...e){g.singleton().info(...e)}debug(...e){try{if(!this._preprocessLoggerCall(i.debug,e))return;const t=this._processArgs("debug",e);this._filteredPush(t)}catch(t){console.error("Logger.debug(): An error was thrown while logging",t,...e)}}static debug(...e){g.singleton().debug(...e)}traceflow(e,...t){try{if(this.isTraceflowConsoleEnabled(e)){const s=[`[TRACEFLOW: ${e}]`].concat(t);this._mirrorOriginalConsole(i.info,s)}if(!this._prefilter(i.traceflow,e))return;const s=this._processArgs("traceflow",t);s.meta["custom.traceflow"]=e,this._filteredPush(s)}catch(s){console.error("Logger.traceflow(): An error was thrown while logging",s,e,...t)}}static traceflow(e,...t){g.singleton().traceflow(e,...t)}_isTraceflowCategoryEnabled(e){return g.traceflowOverrides?Boolean(g.traceflowOverrides[e]):!!this._initialized&&Boolean(this._rawFeatures[e])}isTraceflowEnabled(e){return this._isTraceflowCategoryEnabled("traceflow-all")||void 0!==e&&this._isTraceflowCategoryEnabled(`traceflow-${e}`)}isTraceflowConsoleEnabled(e){return this.isTraceflowEnabled("console-all")||void 0!==e&&this.isTraceflowEnabled(`console-${e}`)}static isTraceflowEnabled(e){return g.singleton().isTraceflowEnabled(e)}_adornWithContext(e){const t=c.ZP.trace.getSpanContext(c.ZP.context.active());t&&(0,l.BM)(t)&&(e.meta[h.TRACE_ID]=t.traceId,e.meta[h.SPAN_ID]=t.spanId),e.meta[h.EVENT_TYPE]=d[i[e.level]],e.meta[h.EVENT_SUBTYPE]="log",e.meta[h.EVENT_WORKFLOW]=o.kC.WORKFLOW_DEBUG,e.meta[h.EVENT_SUBCATEGORY]||(e.meta[h.EVENT_SUBCATEGORY]="global")}_preprocessLoggerCall(e,t){return this._consoleLogLevel<=e&&this._mirrorOriginalConsole(e,t),this._prefilter(e,void 0)}_mirrorOriginalConsole(e,t){if(this._initialized)g._originalConsoles[e].apply(console,t);else try{const s=JSON.stringify(t);g._originalConsoles[e].apply(console,[s])}catch(e){console.error("Failed to stringify args",t)}}_echoProcessedLogToConsole(e){try{const t=JSON.stringify(e);g._originalConsoles[i.debug].apply(console,[t])}catch(t){console.error("Failed to stringify logEntry",e)}}_prefilter(e,t){return!this._initialized||this._filter(e,t)}_filter(e,t){return!(e===i.traceflow&&!this.isTraceflowEnabled(t))&&!(e<this._enabledLogLevel)}_filteredPush(e){this._initialized?this._filter(e.level,e.meta[h.TRACEFLOW_CATEGORY])&&(this._adornWithContext(e),e.level===i.error&&(this._errorCounter?.add(1,{buildSha:this._buildSha}),!0===e.meta[h.ERROR_CLIENT_FATAL]&&this._fatalErrorCounter?.add(1,{expected:!0===e.meta[h.ERROR_IS_EXPECTED]&&e.meta[h.ERROR_IS_EXPECTED],buildSha:this._buildSha})),this._pushLog(e)):this._bufferDuringInit&&(this._adornWithContext(e),this._bufferDuringInit.push(e))}_adornLogEventWithContext(e){this._analyticsClient.context.adornEventData(e.meta)}_pushLog(e){if(e.meta[h.LOG_MESSAGE]=e.msg,e.meta[h.LOG_LEVEL]=i[e.level],this._adornLogEventWithContext(e),this._sendProcessedLogsToConsole&&this._echoProcessedLogToConsole(e),this._suppressLogsToIngest)return;const t=!!e?.meta[h.ERROR_CLIENT_FATAL];t&&!this._analyticsClient.userConsent&&(delete e.meta["event.mcid_guid"],delete e.meta["event.user_guid"]),(t||this._analyticsClient.userConsent)&&this._analyticsClient.transport.queueEventData(e.meta)}}g._originalConsoles={[i.none]:_,[i.traceflow]:_,[i.debug]:_,[i.info]:_,[i.warn]:_,[i.error]:_},g.HijackConsole=!1;class u extends g{constructor(e,t,s=r.R.defaultInstance){super(s,t??g.singleton().getFeaturesAndSettingsProvider()),this._category=e}_categoryLog(e,t){try{if(!this._preprocessLoggerCall(i[e],[`[${this._category}]`,...t]))return;const s=this._processArgs(e,t);s.meta[h.EVENT_SUBCATEGORY]=this._category,this._filteredPush(s)}catch(e){console.error("CategoryLogger._categoryLog(): An error was thrown while logging",e,...t)}}_setLogLevelsFromConfig(){super._setLogLevelsFromConfig();let e=`consoleLogLevel-${this._category}`,t=this._rawSettings[e];void 0!==t&&(this._consoleLogLevel=i[t]),e=`enabledLogLevel-${this._category}`,t=this._rawSettings[e],void 0!==t&&(this._enabledLogLevel=i[t])}error(...e){this._categoryLog("error",e)}warn(...e){this._categoryLog("warn",e)}info(...e){this._categoryLog("info",e)}debug(...e){this._categoryLog("debug",e)}trace(...e){this.traceflow(this._category,...e)}}const f={sessionId:o.CA.EVENT_SESSION_ID,requestId:"custom.requestId",statusCode:"custom.statusCode",url:"custom.url",method:"custom.method",referrer:o.CA.EVENT_REFERRER,startTime:o.CA.EVENT_TIME_START,userId:o.CA.EVENT_USER_GUID,traceId:"custom.traceId"};class E extends g{constructor(e,t,s){super(s,t),this.requestContext=e}_adornLogEventWithContext(e){this._analyticsClient.context.adornEventData(e.meta);for(const[t,s]of Object.entries(this.requestContext))f[t]?e.meta[f[t]]=s:e.meta[t]=s}_mirrorOriginalConsole(e,t){const s=[this.requestContext].concat(t);return super._mirrorOriginalConsole(e,s)}}},766545:(e,t,s)=>{s.d(t,{V:()=>r});var i=s(337566);class r{constructor(e){this._host=e.host,this._bundleHash=e.bundleHash,this._sessionId=e.sessionId,this._rrEntryName=e.rrEntryName,this._rrEntryConfigName=e.rrEntryConfigName,this._rrTrafficTargetName=e.rrTrafficTargetName}async ping(){return Promise.resolve("OK")}async getConfiguration(){const e=["/_rr_",this._rrEntryName,this._rrEntryConfigName,this._rrTrafficTargetName,this._bundleHash,`?sessionId=${this._sessionId}`].join("/"),t=(0,i.X)(this._callRrApi.bind(this),{maxAttempts:r.MAX_RETRIES,delay:r.RETRY_DELAY});return Promise.race([t(e),new Promise(((e,t)=>setTimeout(t,r.TIMEOUT,"Timeout")))])}async _callRrApi(e){try{const t=await this._host.fetch(e);return await t.json()}catch(e){throw console.error(`Failed to get configuration from Request Router service. ${e}`),e}}}r.MAX_RETRIES=3,r.RETRY_DELAY=200,r.TIMEOUT=3e3},937472:(e,t,s)=>{s.d(t,{B:()=>r});var i=s(342356);class r{constructor(){this._isFulfilled=!1,this._isRejected=!1,this._hasAdoptedOnce=!1,this._promiseInUse=!1,this.reset()}get promise(){return this._promiseInUse=!0,this._promise}get isSettled(){return this._isFulfilled||this._isRejected}get isFulfilled(){return this._isFulfilled}get isRejected(){return this._isRejected}adopt(e){return this._promiseInUse=!0,e.then(this._resolvePromise).catch(this._rejectPromise),this.promise}adoptOnce(e){return this._promiseInUse=!0,this._hasAdoptedOnce||(this.adopt(e()),this._hasAdoptedOnce=!0),this.promise}resolve(e){this._resolvePromise(e)}reject(e){this._rejectPromise(e)}reset(){!this._isFulfilled&&!this._isRejected&&this._promiseInUse&&this._rejectPromise&&this._rejectPromise(new i.R("DeferredPromiseReset","Deferred was reset before result arrived")),this._isFulfilled=!1,this._isRejected=!1,this._hasAdoptedOnce=!1,this._promiseInUse=!1,this._promise=new Promise(((e,t)=>{this._resolvePromise=t=>{this._isFulfilled=!0,this._isRejected=!1,e(t)},this._rejectPromise=e=>{this._isRejected=!0,this._isFulfilled=!1,t(e)}}))}}},342356:(e,t,s)=>{s.d(t,{R:()=>n});var i=s(132565),r=s(469953),o=s(626198);Error.stackTraceLimit=50;class n extends Error{constructor(e,t,s){super(t),this._code=e,this._isExpected=!1,this.name=e+"Error",s&&(s instanceof Error?this.previousError=s:(this.previousError=s.previousError,this.category=s.category,this.logMetadata=s.logMetadata,this.isExpected=Boolean(s.isExpected)))}get code(){return this._code}get uuid(){return this._uuid||(this._uuid=(0,i.Z)()),this._uuid}set uuid(e){this._uuid=e}get isExpected(){return!!this._isExpected||this.previousError instanceof n&&this.previousError.isExpected}set isExpected(e){this._isExpected=e}hasErrorCode(e){return this.code===e||this.previousError instanceof n&&this.previousError.hasErrorCode(e)}findErrorBy(e){return e(this)?this:this.previousError instanceof n?this.previousError.findErrorBy(e):void 0}getDataRepresentation(e={skipStack:!1}){const t={kind:"HzError",code:this.code,message:this.message,stack:e.skipStack?void 0:this.stack,uuid:this.uuid,category:this.category,isExpected:this.isExpected,logMetadata:this.logMetadata};return this.previousError&&(this.previousError instanceof n?t.previousErrorData=this.previousError.getDataRepresentation(e):t.previousErrorData={kind:"Error",message:this.previousError.message,stack:e.skipStack?void 0:this.previousError.stack}),(0,r.a1)(t)}_getErrorMessageWithCode(e){return(0,o.isAdobeDCXError)(e)?`${e.name}: ${e.code}: ${e.message}`:`${e.name}: ${e.message}`}_getDCXUnderlyingErrorMessage(e){let t=this._getErrorMessageWithCode(e);return(0,o.isAdobeDCXError)(e)&&e.underlyingError&&(t+=`\nFrom underlying error: ${this._getDCXUnderlyingErrorMessage(e.underlyingError)}`),t}_getDCXErrorFullStack(e){let t=e.stack;return(0,o.isAdobeDCXError)(e)&&e.underlyingError&&(t+=`\nFrom underlying error: ${this._getDCXErrorFullStack(e.underlyingError)}`),t}get fullStack(){let e=this.stack||"";return this.previousError&&(e+="\nFrom previous error: ",this.previousError instanceof n?e+=this.previousError.fullStack:(0,o.isAdobeDCXError)(this.previousError)?e+=this._getDCXErrorFullStack(this.previousError):e+=this.previousError.stack),e.replace(/access_token=[0-9A-Za-z-._%=]+/,"")}get messageWithCode(){return this.category?`${this.category}: ${this.code}: ${this.message}`:`${this.code}: ${this.message}`}get fullMessageWithCode(){let e=this.messageWithCode;return this.previousError&&(e+="\nFrom previous error: ",this.previousError instanceof n?e+=this.previousError.fullMessageWithCode:(0,o.isAdobeDCXError)(this.previousError)?e+=this._getDCXUnderlyingErrorMessage(this.previousError):e+=this.previousError),e}get fullLogMetadata(){let e=this.logMetadata;if(this.previousError instanceof n){const t=this.previousError.fullLogMetadata;t&&(e=Object.assign({},this.logMetadata),e.previousLogMetadata=t)}return e}}}}]);
//# sourceMappingURL=19121.2cc52960708ac2dbf172.js.map